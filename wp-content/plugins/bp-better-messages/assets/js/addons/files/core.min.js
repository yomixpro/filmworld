/*! For license information please see core.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["node_modules_uppy_core_lib_index_js"],{78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var o=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(o):"".concat((t?"-":"")+e.toFixed(1)," ").concat(o)}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),o=n(43146),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=c}function b(){var e=i();if(_(e))return w(e);d=setTimeout(b,function(e){var n=t-(e-p);return v?a(n,c-(e-h)):n}(e))}function w(e){return d=void 0,y&&l?m(e):(l=u=void 0,f)}function O(){var e=i(),n=_(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(b,t),g?m(e):f}(p);if(v)return clearTimeout(d),d=setTimeout(b,t),m(p)}return void 0===d&&(d=setTimeout(b,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?s(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},O.flush=function(){return void 0===d?f:w(i())},O}},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),o=n(78766),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,s,a){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),s=0,a=o.length;for(;s<a;s++){var l=o[s];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,o,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>_,Ob:()=>q,XX:()=>B,_3:()=>m,fF:()=>i,h:()=>v,uA:()=>b,v2:()=>j});n(51629),n(25276),n(64346),n(44114),n(34782),n(15086),n(26910),n(54554),n(59089),n(23288),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(25440),n(48718),n(23500),n(76031);var r,i,o,s,a,l,u,c={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,p=Array.isArray;function h(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var i,o,s,a={};for(s in t)"key"==s?i=t[s]:"ref"==s?o=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return y(e,a,i,o,null)}function y(e,t,n,r,s){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++o:s,__i:-1,__u:0};return null==s&&null!=i.vnode&&i.vnode(a),a}function m(){return{current:null}}function _(e){return e.children}function b(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function O(e,t,n){var r,o=e.__v,s=o.__e,a=e.__P;if(a)return(r=h({},o)).__v=o.__v+1,i.vnode&&i.vnode(r),C(a,r,o,e.__n,void 0!==a.ownerSVGElement,32&o.__u?[s]:null,t,null==s?w(o):s,!!(32&o.__u),n),r.__v=o.__v,r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=s&&S(r),r}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function k(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!A.__r++||a!==i.debounceRendering)&&((a=i.debounceRendering)||l)(A)}function A(){var e,t,n,r=[],o=[];for(s.sort(u);e=s.shift();)e.__d&&(n=s.length,t=O(e,r,o)||t,0===n||s.length>n?(I(r,t,o),o.length=r.length=0,t=void 0,s.sort(u)):t&&i.__c&&i.__c(t,f));t&&I(r,t,o),A.__r=0}function P(e,t,n,r,i,o,s,a,l,u,d){var p,h,g,v,y,m=r&&r.__k||f,_=t.length;for(n.__d=l,F(n,t,m),l=n.__d,p=0;p<_;p++)null!=(g=n.__k[p])&&"boolean"!=typeof g&&"function"!=typeof g&&(h=-1===g.__i?c:m[g.__i]||c,g.__i=p,C(e,g,h,i,o,s,a,l,u,d),v=g.__e,g.ref&&h.ref!=g.ref&&(h.ref&&R(h.ref,null,g),d.push(g.ref,g.__c||v,g)),null==y&&null!=v&&(y=v),65536&g.__u||h.__k===g.__k?l=x(g,l,e):"function"==typeof g.type&&void 0!==g.__d?l=g.__d:v&&(l=v.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=y}function F(e,t,n){var r,i,o,s,a,l=t.length,u=n.length,c=u,f=0;for(e.__k=[],r=0;r<l;r++)s=r+f,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?y(null,i,null,null,null):p(i)?y(_,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=E(i,n,s,c),i.__i=a,o=null,-1!==a&&(c--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&f--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?f++:a>s?c>l-s?f+=a-s:f--:a<s?a==s-1&&(f=a-s):f=0,a!==r+f&&(i.__u|=65536))):(o=n[s])&&null==o.key&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=w(o)),z(o,o,!1),n[s]=null,c--);if(c)for(r=0;r<u;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=w(o)),z(o,o))}function x(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=x(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function j(e,t){return t=t||[],null==e||"boolean"==typeof e||(p(e)?e.some((function(e){j(e,t)})):t.push(e)),t}function E(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,l=t[n];if(null===l||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(null==l||131072&l.__u?0:1))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a++}}return-1}function U(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function T(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||U(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||U(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?N:M,o)):e.removeEventListener(t,o?N:M,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function M(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(i.event?i.event(e):e)}}function N(e){if(this.l)return this.l[e.type+!0](i.event?i.event(e):e)}function C(e,t,n,r,o,s,a,l,u,c){var f,d,g,v,y,m,w,O,S,k,A,F,x,j,E,U=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),s=[l=t.__e=n.__e]),(f=i.__b)&&f(t);e:if("function"==typeof U)try{if(O=t.props,S=(f=U.contextType)&&r[f.__c],k=f?S?S.props.value:f.__:r,n.__c?w=(d=t.__c=n.__c).__=d.__E:("prototype"in U&&U.prototype.render?t.__c=d=new U(O,k):(t.__c=d=new b(O,k),d.constructor=U,d.render=L),S&&S.sub(d),d.props=O,d.state||(d.state={}),d.context=k,d.__n=r,g=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=U.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=h({},d.__s)),h(d.__s,U.getDerivedStateFromProps(O,d.__s))),v=d.props,y=d.state,d.__v=t,g)null==U.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==U.getDerivedStateFromProps&&O!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(O,k),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(O,d.__s,k)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=O,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(O,d.__s,k),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(v,y,m)}))}if(d.context=k,d.props=O,d.__P=e,d.__e=!1,F=i.__r,x=0,"prototype"in U&&U.prototype.render){for(d.state=d.__s,d.__d=!1,F&&F(t),f=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do{d.__d=!1,F&&F(t),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++x<25);d.state=d.__s,null!=d.getChildContext&&(r=h(h({},r),d.getChildContext())),g||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(v,y)),P(e,p(E=null!=f&&f.type===_&&null==f.key?f.props.children:f)?E:[E],t,n,r,o,s,a,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),w&&(d.__E=d.__=null)}catch(e){t.__v=null,u||null!=s?(t.__e=l,t.__u|=u?160:32,s[s.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),i.__e(e,t,n)}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=D(n.__e,t,n,r,o,s,a,u,c);(f=i.diffed)&&f(t)}function I(e,t,n){for(var r=0;r<n.length;r++)R(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function D(e,t,n,i,o,s,a,l,u){var f,d,h,v,y,m,_,b=n.props,O=t.props,S=t.type;if("svg"===S&&(o=!0),null!=s)for(f=0;f<s.length;f++)if((y=s[f])&&"setAttribute"in y==!!S&&(S?y.localName===S:3===y.nodeType)){e=y,s[f]=null;break}if(null==e){if(null===S)return document.createTextNode(O);e=o?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,O.is&&O),s=null,l=!1}if(null===S)b===O||l&&e.data===O||(e.data=O);else{if(s=s&&r.call(e.childNodes),b=n.props||c,!l&&null!=s)for(b={},f=0;f<e.attributes.length;f++)b[(y=e.attributes[f]).name]=y.value;for(f in b)y=b[f],"children"==f||("dangerouslySetInnerHTML"==f?h=y:"key"===f||f in O||T(e,f,null,y,o));for(f in O)y=O[f],"children"==f?v=y:"dangerouslySetInnerHTML"==f?d=y:"value"==f?m=y:"checked"==f?_=y:"key"===f||l&&"function"!=typeof y||b[f]===y||T(e,f,y,b[f],o);if(d)l||h&&(d.__html===h.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(h&&(e.innerHTML=""),P(e,p(v)?v:[v],t,n,i,o&&"foreignObject"!==S,s,a,s?s[0]:n.__k&&w(n,0),l,u),null!=s)for(f=s.length;f--;)null!=s[f]&&g(s[f]);l||(f="value",void 0!==m&&(m!==e[f]||"progress"===S&&!m||"option"===S&&m!==b[f])&&T(e,f,m,b[f],!1),f="checked",void 0!==_&&_!==e[f]&&T(e,f,_,b[f],!1))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function z(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||R(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&z(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function B(e,t,n){var o,s,a,l;i.__&&i.__(e,t),s=(o="function"==typeof n)?null:n&&n.__k||t.__k,a=[],l=[],C(t,e=(!o&&n||t).__k=v(_,null,[e]),s||c,c,void 0!==t.ownerSVGElement,!o&&n?[n]:s?null:t.firstChild?r.call(t.childNodes):null,a,!o&&n?n:s?s.__e:t.firstChild,o,l),e.__d=void 0,I(a,e,l)}function q(e,t,n){var i,o,s,a,l=h({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==s?i=t[s]:"ref"==s?o=t[s]:l[s]=void 0===t[s]&&void 0!==a?a[s]:t[s];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),y(e.type,l,i||e.key,o||e.ref,null)}r=f.slice,i={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},o=0,b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},b.prototype.render=_,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},A.__r=0},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,o=this.parts,s=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<s;t++)"*"!==o[t]&&(i=t<n.length&&o[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var a in i={},e)this.match(a)&&(i[a]=e[a]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),o=n(18745),s=n(79039),a=n(14601),l="AggregateError",u=i(l),c=!s((function(){return 1!==u([1]).errors[0]}))&&s((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:a(l,(function(e){return function(t,n){return o(e,this,arguments)}}),c,!0)})},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),o=n(42787),s=n(52967),a=n(77740),l=n(2360),u=n(66699),c=n(6980),f=n(77584),d=n(80747),p=n(72652),h=n(32603),g=n(78227)("toStringTag"),v=Error,y=[].push,m=function(e,t){var n,r=i(_,this);s?n=s(new v,r?o(this):_):(n=r?this:l(_),u(n,g,"Error")),void 0!==t&&u(n,"message",h(t)),d(n,m,n.stack,1),arguments.length>2&&f(n,arguments[2]);var a=[];return p(e,y,{that:a}),u(n,"errors",a),n};s?s(m,v):a(m,v,{name:!0});var _=m.prototype=l(v.prototype,{constructor:c(1,m),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},30067:(e,t,n)=>{"use strict";n(17145)},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),o=n(79306),s=n(48981),a=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=s(this),r=a(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},83237:(e,t,n)=>{"use strict";n(70511)("replace")},31073:(e,t,n)=>{"use strict";n(70511)("split")},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500);var r=n(51531),i=n(58237),o=n(84285),s=(n(16280),n(76918),n(94170),n(13656));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}return(0,o.A)(e,[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:l(l({},t),{},(0,r.A)({},this.id,l(l({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=l(l({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new s.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}]),e}()},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(58237),i=n(84285),o=n(78158),s=n(36858),a=n(78241),l=n(31061),u=n(46983),c=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(15472),n(36480)),f=n(10826);const d=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,f.A)(e)?e:null};var p=n(36118),h=n(32744);function g(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,v()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function _(e){return"__private_"+m+++"_"+e}var b=_("updateUI");const w=function(e){function t(){var e;return(0,r.A)(this,t),e=g(this,t,arguments),Object.defineProperty((0,a.A)(e),b,{writable:!0,value:void 0}),e}return(0,l.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,o=this,s=t.id,a=d(e);if(a){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),y(this,b)[b]=(n=function(e){o.uppy.getPlugin(o.id)&&((0,c.XX)(o.render(e),l),o.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,u.A)(r))}))),i}),this.uppy.log("Installing ".concat(s," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(a.innerHTML=""),(0,c.XX)(this.render(this.uppy.getState()),l),this.el=l,a.appendChild(l),l.dir=this.opts.direction||(0,p.A)(l)||"ltr",this.onMount(),this.el}var f=this.getTargetPlugin(e);if(f)return this.uppy.log("Installing ".concat(s," to ").concat(f.id)),this.parent=f,this.el=f.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(s));var h="Invalid target option given to ".concat(s,".");throw h+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(h)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=y(this,b))[b])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),t}(h.A)},16542:(e,t,n)=>{"use strict";n.d(t,{A:()=>Te});var r=n(18443),i=n(46983),o=n(18180),s=n(80241),a=n(51531),l=n(58237),u=n(84285),c=n(61792),f=(n(52675),n(89463),n(16280),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(2892),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(23500),n(62953),n(76031),n(13656)),d=n(70647),p=n(34034);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function m(e){return"__private_"+y+++"_"+e}var _=m("callbacks"),b=m("publish"),w=function(){function e(){(0,l.A)(this,e),Object.defineProperty(this,b,{value:O}),this.state={},Object.defineProperty(this,_,{writable:!0,value:new Set})}return(0,u.A)(e,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=g({},this.state),n=g(g({},this.state),e);this.state=n,v(this,b)[b](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return v(this,_)[_].add(e),function(){v(t,_)[_].delete(e)}}}]),e}();function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v(this,_)[_].forEach((function(e){e.apply(void 0,t)}))}w.VERSION="3.2.2";const S=w;var k=n(51494),A=n(77943),P=n(21214);n(58940);function F(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var x=n(77001),j=(n(60825),n(15472),n(78158)),E=n(36858),U=n(31061),T=n(81700),M=(n(74423),n(21699),n(25440),n(78029)),N=n(21397);function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return t=(0,E.A)(t),(0,j.A)(e,R()?Reflect.construct(t,n||[],(0,E.A)(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var z={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},L=function(e){function t(e,n){var r,i;return(0,l.A)(this,t),(r=D(this,t,[e])).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,U.A)(t,e),(0,u.A)(t)}((0,T.A)(Error)),B=function(){function e(t,n){(0,l.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return(0,u.A)(e,[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new L("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var o,s=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),a=C(t);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(null!=l.size&&(s+=l.size)>r)throw new L(this.i18n("exceedsSize",{size:M(r),file:l.name}))}}catch(u){a.e(u)}finally{a.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&N(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var o=i.join(", ");throw new L(this.i18n("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new L(this.i18n("exceedsSize",{size:M(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new L(this.i18n("inferiorSize",{size:M(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new L(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new L(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=C(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var o=t.value;Object.hasOwn(e.meta,o)&&""!==e.meta[o]||r.push(o)}}catch(s){i.e(s)}finally{i.f()}return{missingFields:r,error:n}}}]),e}();const q={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Y=0;function V(e){return"__private_"+Y+++"_"+e}var K={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},Z=V("plugins"),J=V("restricter"),Q=V("storeUnsubscribe"),ee=V("emitter"),te=V("preProcessors"),ne=V("uploaders"),re=V("postProcessors"),ie=V("informAndEmit"),oe=V("checkRequiredMetaFieldsOnFile"),se=V("checkRequiredMetaFields"),ae=V("assertNewUploadAllowed"),le=V("transformFile"),ue=V("startIfAutoProceed"),ce=V("checkAndUpdateFileState"),fe=V("addListeners"),de=V("updateOnlineStatus"),pe=V("requestClientById"),he=V("createUpload"),ge=V("getUpload"),ve=V("removeUpload"),ye=V("runUpload"),me=function(e,t){function n(e){var t=this;(0,l.A)(this,n),Object.defineProperty(this,ye,{value:Ee}),Object.defineProperty(this,ve,{value:je}),Object.defineProperty(this,ge,{value:xe}),Object.defineProperty(this,he,{value:Fe}),Object.defineProperty(this,fe,{value:Pe}),Object.defineProperty(this,ce,{value:Ae}),Object.defineProperty(this,ue,{value:ke}),Object.defineProperty(this,le,{value:Se}),Object.defineProperty(this,ae,{value:Oe}),Object.defineProperty(this,se,{value:we}),Object.defineProperty(this,oe,{value:be}),Object.defineProperty(this,ie,{value:_e}),Object.defineProperty(this,Z,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:d()}),Object.defineProperty(this,te,{writable:!0,value:new Set}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=p((function(e,n){var r=t.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;t.setFileState(e.id,{progress:H(H({},r.progress),{},{bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:i?Math.round(n.bytesUploaded/n.bytesTotal*100):0})}),t.calculateTotalProgress()}else t.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else t.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,de,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,pe,{writable:!0,value:new Map}),this.defaultLocale=q;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:z,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new S,logger:x.I,infoTimeout:5e3},i=H(H({},r),e);this.opts=H(H({},i),{},{restrictions:H(H({},r.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=x.w),this.log("Using Core v".concat(n.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(H(H({},K),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:F(),individualCancellation:!0,resumableUploads:!1},meta:H({},this.opts.meta),info:[]})),X(this,J)[J]=new B((function(){return t.opts}),this.i18n),X(this,Q)[Q]=this.store.subscribe((function(e,n,r){t.emit("state-update",e,n,r),t.updateAll(n)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),X(this,fe)[fe]()}return(0,u.A)(n,[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=X(this,ee)[ee]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return X(this,ee)[ee].on(e,t),this}},{key:"once",value:function(e,t){return X(this,ee)[ee].once(e,t),this}},{key:"off",value:function(e,t){return X(this,ee)[ee].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:H(H({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,s.A)(e,2),r=n[0],i=n[1];return[r,H(H({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Can’t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,a.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new f.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=H(H(H({},this.opts),e),{},{restrictions:H(H({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=H({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=H(H({},t[r]),{},{progress:H(H({},t[r].progress),e)})})),this.setState(H({files:n},K)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(H(H({},K),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){X(this,te)[te].add(e)}},{key:"removePreProcessor",value:function(e){return X(this,te)[te].delete(e)}},{key:"addPostProcessor",value:function(e){X(this,re)[re].add(e)}},{key:"removePostProcessor",value:function(e){return X(this,re)[re].delete(e)}},{key:"addUploader",value:function(e){X(this,ne)[ne].add(e)}},{key:"removeUploader",value:function(e){return X(this,ne)[ne].delete(e)}},{key:"setMeta",value:function(e){var t=H(H({},this.getState().meta),e),n=H({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=H(H({},n[t]),{},{meta:H(H({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=H({},this.getState().files);if(n[e]){var r=H(H({},n[e].meta),t);n[e]=H(H({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),o=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),s=i.filter((function(e){return!e.progress.uploadStarted})),a=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),l=i.filter((function(e){return e.progress.uploadStarted})),u=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),f=i.filter((function(e){return e.error})),d=o.filter((function(e){return!e.isPaused})),p=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:s,startedFiles:a,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:f,inProgressFiles:o,inProgressNotPausedFiles:d,processingFiles:p,isUploadStarted:l.length>0,isAllComplete:100===n&&c.length===i.length&&0===p.length,isAllErrored:!!r&&f.length===i.length,isAllPaused:0!==o.length&&u.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{X(this,J)[J].validate(t,[e])}catch(n){return n}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){X(this,ae)[ae](e);var t=X(this,ce)[ce]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,o=i.filter((function(e){return e.isRestriction}));if(X(this,ie)[ie](o),i.length>0)throw i[0];this.setState({files:n});var a=(0,s.A)(r,1)[0];return this.emit("file-added",a),this.emit("files-added",r),this.log("Added file: ".concat(a.name,", ").concat(a.id,", mime type: ").concat(a.type)),X(this,ue)[ue](),a.id}},{key:"addFiles",value:function(e){var t=this;X(this,ae)[ae]();var n=X(this,ce)[ce](e),r=n.nextFilesState,i=n.validFilesToAdd,o=n.errors,s=o.filter((function(e){return e.isRestriction}));X(this,ie)[ie](s);var a=o.filter((function(e){return!e.isRestriction}));if(a.length>0){var l="Multiple errors occurred while adding files:\n";if(a.forEach((function(e){l+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(a,l);var u=new Error(l);throw u.errors=a,u}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&X(this,ue)[ue]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,o=r.currentUploads,s=H({},i),a=H({},o),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete s[e])})),Object.keys(a).forEach((function(e){var t=o[e].fileIDs.filter(u);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==o[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");a[e]=H(H({},o[e]),{},{fileIDs:t})}else delete a[e]}));var c={currentUploads:a,files:s};0===Object.keys(s).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var f=Object.keys(l);f.forEach((function(e){n.emit("file-removed",l[e],t)})),f.length>5?this.log("Removed ".concat(f.length," files")):this.log("Removed files: ".concat(f.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=H({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=H(H({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=H({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=H(H({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=H({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=H(H({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=X(this,he)[he](t,{forceAllowNewUpload:!0});return X(this,ye)[ye](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(K)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=X(this,he)[he]([e],{forceAllowNewUpload:!0});return X(this,ye)[ye](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var o=0;t.forEach((function(e){o+=e.progress.bytesUploaded})),n.forEach((function(e){o+=i*(e.progress.percentage||0)/100}));var s=0===r?0:Math.round(o/r*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}else{var a=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/a*100);this.setState({totalProgress:u})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,o.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var s=this.getPlugin(i);if(s){var a="Already found a plugin named '".concat(s.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in X(this,Z)[Z]?X(this,Z)[Z][r.type].push(r):X(this,Z)[Z][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values(X(this,Z)[Z]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return X(this,Z)[Z][e]}},{key:"iteratePlugins",value:function(e){Object.values(X(this,Z)[Z]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=X(this,Z)[Z][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:H(H({},this.getState().plugins),{},(0,a.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),X(this,Q)[Q](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",X(this,de)[de]),window.removeEventListener("offline",X(this,de)[de]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var s="object"===(0,o.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:s?e.message:e,details:s?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){X(this,pe)[pe].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=X(this,pe)[pe].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?X(this,ye)[ye](e):(X(this,ve)[ve](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=X(this,he))[he].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if(X(this,ge)[ge](e)){var n=this.getState().currentUploads,r=H(H({},n[e]),{},{result:H(H({},n[e].result),t)});this.setState({currentUploads:H(H({},n),{},(0,a.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=X(this,Z)[Z].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,o.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return X(t,J)[J].validateMinNumberOfFiles(n)})).catch((function(e){throw X(t,ie)[ie]([e]),e})).then((function(){if(!X(t,se)[se](n))throw new L(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var o=X(t,he)[he](i);return X(t,ye)[ye](o)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}]),n}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function _e(e){var t,n=this,r=W(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(l){r.e(l)}finally{r.f()}var o=e.filter((function(e){return e.isUserFacing})),s=o.slice(0,4),a=o.slice(4);s.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})}function be(e){var t=X(this,J)[J].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function we(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];X(this,oe)[oe](i)||(t=!1)}return t}function Oe(e){if(!1===this.getState().allowNewUpload){var t=new L(this.i18n("noMoreFilesAllowed"),{file:e});throw X(this,ie)[ie]([t]),t}}function Se(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,k.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,A.A)(r).extension,o=(0,P.N)(t),s=t.meta||{};s.name=r,s.type=n;var a=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:r,extension:i||"",meta:H(H({},this.getState().meta),s),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:a,uploadComplete:!1,uploadStarted:null},size:a,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function ke(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function Ae(e){var t,n=this.getState().files,r=H({},n),i=[],s=[],a=W(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;try{var u,c=X(this,le)[le](l),f=null==(u=n[c.id])?void 0:u.isGhost;if(f)c=H(H({},n[c.id]),{},{isGhost:!1,data:l.data}),this.log("Replaced the blob in the restored ghost file: ".concat(c.name,", ").concat(c.id));var d=this.opts.onBeforeFileAdded(c,r);if(!d&&this.checkIfFileAlreadyExists(c.id))throw new L(this.i18n("noDuplicates",{fileName:c.name}),{file:l});if(!1===d&&!f)throw new L("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});"object"===(0,o.A)(d)&&null!==d&&(c=d),X(this,J)[J].validateSingleFile(c),r[c.id]=c,i.push(c)}catch(p){s.push(p)}}}catch(p){a.e(p)}finally{a.f()}try{X(this,J)[J].validateAggregateRestrictions(Object.values(n),i)}catch(p){return s.push(p),{nextFilesState:n,validFilesToAdd:[],errors:s}}return{nextFilesState:r,validFilesToAdd:i,errors:s}}function Pe(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,o.A)(r)&&r.message){var s;e.log(r.message,"error");var a=new Error(e.i18n("failedToUpload",{file:null!=(s=null==n?void 0:n.name)?s:""}));a.isUserFacing=!0,a.details=r.message,r.details&&(a.details+=" ".concat(r.details)),X(e,ie)[ie]([a])}else X(e,ie)[ie]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,o=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:o},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(o).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:H(H({},r),{},{postprocess:X(e,re)[re].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:H(H({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=H({},e.getState().files);n[t.id]=H(H({},n[t.id]),{},{progress:H({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:H(H({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=H({},e.getState().files);n[t.id]=H(H({},n[t.id]),{},{progress:H({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&X(e,oe)[oe](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",X(this,de)[de]),window.addEventListener("offline",X(this,de)[de]),setTimeout(X(this,de)[de],3e3))}function Fe(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),o=i.allowNewUpload,s=i.currentUploads;if(!o&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:H(H({},s),{},(0,a.A)({},l,{fileIDs:e,step:0,result:{}}))}),l}function xe(e){return this.getState().currentUploads[e]}function je(e){var t=H({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function Ee(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.A)(c.mark((function e(t){var n,r,o,s,l,u,f,d,p,h,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return g.getState().currentUploads[t]})(),o=[].concat((0,i.A)(X(this,te)[te]),(0,i.A)(X(this,ne)[ne]),(0,i.A)(X(this,re)[re])),e.prev=3,s=r.step||0;case 5:if(!(s<o.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return l=o[s],this.setState({currentUploads:H(H({},this.getState().currentUploads),{},(0,a.A)({},t,H(H({},r),{},{step:s})))}),u=r.fileIDs,e.next=13,l(u,t);case 13:r=n();case 14:s++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),X(this,ve)[ve](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=g.getFile(e);t&&t.progress.postprocess&&g.emit("postprocess-complete",t)})),f=r.fileIDs.map((function(e){return g.getFile(e)})),d=f.filter((function(e){return!e.error})),p=f.filter((function(e){return e.error})),this.addResultData(t,{successful:d,failed:p,uploadID:t}),r=n()),r&&(h=r.result,this.emit("complete",h),X(this,ve)[ve](t)),null==h&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",h);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}me.VERSION="3.9.3";const Te=me},26656:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BasePlugin:()=>o.A,UIPlugin:()=>i.A,Uppy:()=>r.A,debugLogger:()=>s.w,default:()=>r.A});var r=n(16542),i=n(73848),o=n(32744),s=n(77001)},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>s,I:()=>o});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var o={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},s={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(51531),i=n(18180),o=n(58237),s=n(84285);n(52675),n(89463),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(23500);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function f(e){return"__private_"+c+++"_"+e}function d(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function p(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i];if("_"!==s){var a=t[s];"string"==typeof a&&(a=n[Symbol.replace](a,"$$$$")),r=d(r,new RegExp("%\\{".concat(s,"\\}"),"g"),a)}}return r}var h=function(e){throw new Error("missing string: ".concat(e))},g=f("onMissingKey"),v=f("apply"),y=function(){function e(t,n){(0,o.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?h:r;Object.defineProperty(this,v,{value:m}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(u(this,v)[v],this):u(this,v)[v](t),u(this,g)[g]=i}return(0,s.A)(e,[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(u(this,g)[g](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return p(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return p(n,t)}}]),e}();function m(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:l(l({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(23500),n(62953),n(51494));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function l(e){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var t=(0,i.A)(e);return function(e){var t="uppy";return"string"==typeof e.name&&(t+="-".concat(a(e.name.toLowerCase()))),void 0!==e.type&&(t+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(t+="-".concat(a(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(t+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(t+="-".concat(e.data.lastModified)),t}(s(s({},e),{},{type:t}))}},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(62010);var r=n(77943),i=n(63265);function o(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}}}]);