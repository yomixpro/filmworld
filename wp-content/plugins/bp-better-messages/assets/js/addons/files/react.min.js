/*! For license information please see react.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["node_modules_uppy_react_lib_index_js"],{78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var o=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(o):"".concat((t?"-":"")+e.toFixed(1)," ").concat(o)}},25331:(e,t,n)=>{"use strict";n(52675),n(16280),n(76918),n(28706),n(44114),n(34782),n(59904),n(63548);var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(p-1);d<p;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},3517:e=>{e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),o=n(43146),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,p,d,h,f=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,r=u;return l=u=void 0,f=t,p=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-f>=c}function w(){var e=i();if(b(e))return P(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-f)):n}(e))}function P(e){return d=void 0,y&&l?m(e):(l=u=void 0,p)}function A(){var e=i(),n=b(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(w,t),g?m(e):p}(h);if(v)return clearTimeout(d),d=setTimeout(w,t),m(h)}return void 0===d&&(d=setTimeout(w,t)),p}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),A.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=h=u=d=void 0},A.flush=function(){return void 0===d?p:P(i())},A}},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),o=n(78766),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,a,s){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),a=0,s=o.length;for(;a<s;a++){var l=o[a];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,o,a,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>b,Ob:()=>q,XX:()=>z,_3:()=>m,fF:()=>i,h:()=>v,uA:()=>w,v2:()=>T});n(51629),n(25276),n(64346),n(44114),n(34782),n(15086),n(26910),n(54554),n(59089),n(23288),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(25440),n(48718),n(23500),n(76031);var r,i,o,a,s,l,u,c={},p=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return y(e,s,i,o,null)}function y(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==a?++o:a,__i:-1,__u:0};return null==a&&null!=i.vnode&&i.vnode(s),s}function m(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function P(e,t){if(null==t)return e.__?P(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?P(e):null}function A(e,t,n){var r,o=e.__v,a=o.__e,s=e.__P;if(s)return(r=f({},o)).__v=o.__v+1,i.vnode&&i.vnode(r),j(s,r,o,e.__n,void 0!==s.ownerSVGElement,32&o.__u?[a]:null,t,null==a?P(o):a,!!(32&o.__u),n),r.__v=o.__v,r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=a&&O(r),r}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function k(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!S.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||l)(S)}function S(){var e,t,n,r=[],o=[];for(a.sort(u);e=a.shift();)e.__d&&(n=a.length,t=A(e,r,o)||t,0===n||a.length>n?(N(r,t,o),o.length=r.length=0,t=void 0,a.sort(u)):t&&i.__c&&i.__c(t,p));t&&N(r,t,o),S.__r=0}function _(e,t,n,r,i,o,a,s,l,u,d){var h,f,g,v,y,m=r&&r.__k||p,b=t.length;for(n.__d=l,F(n,t,m),l=n.__d,h=0;h<b;h++)null!=(g=n.__k[h])&&"boolean"!=typeof g&&"function"!=typeof g&&(f=-1===g.__i?c:m[g.__i]||c,g.__i=h,j(e,g,f,i,o,a,s,l,u,d),v=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&R(f.ref,null,g),d.push(g.ref,g.__c||v,g)),null==y&&null!=v&&(y=v),65536&g.__u||f.__k===g.__k?l=C(g,l,e):"function"==typeof g.type&&void 0!==g.__d?l=g.__d:v&&(l=v.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=y}function F(e,t,n){var r,i,o,a,s,l=t.length,u=n.length,c=u,p=0;for(e.__k=[],r=0;r<l;r++)a=r+p,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?y(null,i,null,null,null):h(i)?y(b,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=D(i,n,a,c),i.__i=s,o=null,-1!==s&&(c--,(o=n[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&p--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s===a+1?p++:s>a?c>l-a?p+=s-a:p--:s<a?s==a-1&&(p=s-a):p=0,s!==r+p&&(i.__u|=65536))):(o=n[a])&&null==o.key&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=P(o)),M(o,o,!1),n[a]=null,c--);if(c)for(r=0;r<u;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=P(o)),M(o,o))}function C(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=C(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function T(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){T(e,t)})):t.push(e)),t}function D(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,l=t[n];if(null===l||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(null==l||131072&l.__u?0:1))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s++}}return-1}function E(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function x(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||E(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||E(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?I:B,o)):e.removeEventListener(t,o?I:B,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function B(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(i.event?i.event(e):e)}}function I(e){if(this.l)return this.l[e.type+!0](i.event?i.event(e):e)}function j(e,t,n,r,o,a,s,l,u,c){var p,d,g,v,y,m,P,A,O,k,S,F,C,T,D,E=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=t.__e=n.__e]),(p=i.__b)&&p(t);e:if("function"==typeof E)try{if(A=t.props,O=(p=E.contextType)&&r[p.__c],k=p?O?O.props.value:p.__:r,n.__c?P=(d=t.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(A,k):(t.__c=d=new w(A,k),d.constructor=E,d.render=L),O&&O.sub(d),d.props=A,d.state||(d.state={}),d.context=k,d.__n=r,g=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,E.getDerivedStateFromProps(A,d.__s))),v=d.props,y=d.state,d.__v=t,g)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&A!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(A,k),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(A,d.__s,k)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=A,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(A,d.__s,k),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(v,y,m)}))}if(d.context=k,d.props=A,d.__P=e,d.__e=!1,F=i.__r,C=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,F&&F(t),p=d.render(d.props,d.state,d.context),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[]}else do{d.__d=!1,F&&F(t),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++C<25);d.state=d.__s,null!=d.getChildContext&&(r=f(f({},r),d.getChildContext())),g||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(v,y)),_(e,h(D=null!=p&&p.type===b&&null==p.key?p.props.children:p)?D:[D],t,n,r,o,a,s,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),P&&(d.__E=d.__=null)}catch(e){t.__v=null,u||null!=a?(t.__e=l,t.__u|=u?160:32,a[a.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),i.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U(n.__e,t,n,r,o,a,s,u,c);(p=i.diffed)&&p(t)}function N(e,t,n){for(var r=0;r<n.length;r++)R(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function U(e,t,n,i,o,a,s,l,u){var p,d,f,v,y,m,b,w=n.props,A=t.props,O=t.type;if("svg"===O&&(o=!0),null!=a)for(p=0;p<a.length;p++)if((y=a[p])&&"setAttribute"in y==!!O&&(O?y.localName===O:3===y.nodeType)){e=y,a[p]=null;break}if(null==e){if(null===O)return document.createTextNode(A);e=o?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,A.is&&A),a=null,l=!1}if(null===O)w===A||l&&e.data===A||(e.data=A);else{if(a=a&&r.call(e.childNodes),w=n.props||c,!l&&null!=a)for(w={},p=0;p<e.attributes.length;p++)w[(y=e.attributes[p]).name]=y.value;for(p in w)y=w[p],"children"==p||("dangerouslySetInnerHTML"==p?f=y:"key"===p||p in A||x(e,p,null,y,o));for(p in A)y=A[p],"children"==p?v=y:"dangerouslySetInnerHTML"==p?d=y:"value"==p?m=y:"checked"==p?b=y:"key"===p||l&&"function"!=typeof y||w[p]===y||x(e,p,y,w[p],o);if(d)l||f&&(d.__html===f.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(f&&(e.innerHTML=""),_(e,h(v)?v:[v],t,n,i,o&&"foreignObject"!==O,a,s,a?a[0]:n.__k&&P(n,0),l,u),null!=a)for(p=a.length;p--;)null!=a[p]&&g(a[p]);l||(p="value",void 0!==m&&(m!==e[p]||"progress"===O&&!m||"option"===O&&m!==w[p])&&x(e,p,m,w[p],!1),p="checked",void 0!==b&&b!==e[p]&&x(e,p,b,w[p],!1))}return e}function R(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function M(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||R(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&M(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function z(e,t,n){var o,a,s,l;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],l=[],j(t,e=(!o&&n||t).__k=v(b,null,[e]),a||c,c,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o,l),e.__d=void 0,N(s,e,l)}function q(e,t,n){var i,o,a,s,l=f({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:l[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),y(e.type,l,i||e.key,o||e.ref,null)}r=p.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},w.prototype.render=b,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},S.__r=0},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,o=this.parts,a=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<a;t++)"*"!==o[t]&&(i=t<n.length&&o[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var s in i={},e)this.match(s)&&(i[s]=e[s]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},23546:(e,t,n)=>{var r,i=n(89990);n(76918),n(74423),n(64346),n(23288),n(26099),n(38781),n(21699),function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===i(n.amdO)&&n.amdO?void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r):window.classNames=a}()},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),o=n(18745),a=n(79039),s=n(14601),l="AggregateError",u=i(l),c=!a((function(){return 1!==u([1]).errors[0]}))&&a((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s(l,(function(e){return function(t,n){return o(e,this,arguments)}}),c,!0)})},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),o=n(42787),a=n(52967),s=n(77740),l=n(2360),u=n(66699),c=n(6980),p=n(77584),d=n(80747),h=n(72652),f=n(32603),g=n(78227)("toStringTag"),v=Error,y=[].push,m=function(e,t){var n,r=i(b,this);a?n=a(new v,r?o(this):b):(n=r?this:l(b),u(n,g,"Error")),void 0!==t&&u(n,"message",f(t)),d(n,m,n.stack,1),arguments.length>2&&p(n,arguments[2]);var s=[];return h(e,y,{that:s}),u(n,"errors",s),n};a?a(m,v):s(m,v,{name:!0});var b=m.prototype=l(v.prototype,{constructor:c(1,m),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},30067:(e,t,n)=>{"use strict";n(17145)},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),o=n(79306),a=n(48981),s=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},11367:(e,t,n)=>{"use strict";var r=n(46518),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},83237:(e,t,n)=>{"use strict";n(70511)("replace")},31073:(e,t,n)=>{"use strict";n(70511)("split")},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500);var r=n(51531),i=n(58237),o=n(84285),a=(n(16280),n(76918),n(94170),n(13656));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}return(0,o.A)(e,[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:l(l({},t),{},(0,r.A)({},this.id,l(l({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=l(l({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new a.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}]),e}()},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(58237),i=n(84285),o=n(78158),a=n(36858),s=n(78241),l=n(31061),u=n(46983),c=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(15472),n(36480)),p=n(10826);const d=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,p.A)(e)?e:null};var h=n(36118),f=n(32744);function g(e,t,n){return t=(0,a.A)(t),(0,o.A)(e,v()?Reflect.construct(t,n||[],(0,a.A)(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function b(e){return"__private_"+m+++"_"+e}var w=b("updateUI");const P=function(e){function t(){var e;return(0,r.A)(this,t),e=g(this,t,arguments),Object.defineProperty((0,s.A)(e),w,{writable:!0,value:void 0}),e}return(0,l.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,o=this,a=t.id,s=d(e);if(s){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),y(this,w)[w]=(n=function(e){o.uppy.getPlugin(o.id)&&((0,c.XX)(o.render(e),l),o.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,u.A)(r))}))),i}),this.uppy.log("Installing ".concat(a," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,c.XX)(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||(0,h.A)(l)||"ltr",this.onMount(),this.el}var p=this.getTargetPlugin(e);if(p)return this.uppy.log("Installing ".concat(a," to ").concat(p.id)),this.parent=p,this.el=p.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(a));var f="Invalid target option given to ".concat(a,".");throw f+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(f)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=y(this,w))[w])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),t}(f.A)},16542:(e,t,n)=>{"use strict";n.d(t,{A:()=>xe});var r=n(18443),i=n(46983),o=n(18180),a=n(80241),s=n(51531),l=n(58237),u=n(84285),c=n(61792),p=(n(52675),n(89463),n(16280),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(2892),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(23500),n(62953),n(76031),n(13656)),d=n(70647),h=n(34034);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function m(e){return"__private_"+y+++"_"+e}var b=m("callbacks"),w=m("publish"),P=function(){function e(){(0,l.A)(this,e),Object.defineProperty(this,w,{value:A}),this.state={},Object.defineProperty(this,b,{writable:!0,value:new Set})}return(0,u.A)(e,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=g({},this.state),n=g(g({},this.state),e);this.state=n,v(this,w)[w](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return v(this,b)[b].add(e),function(){v(t,b)[b].delete(e)}}}]),e}();function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v(this,b)[b].forEach((function(e){e.apply(void 0,t)}))}P.VERSION="3.2.2";const O=P;var k=n(51494),S=n(77943),_=n(21214);n(58940);function F(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var C=n(77001),T=(n(60825),n(15472),n(78158)),D=n(36858),E=n(31061),x=n(81700),B=(n(74423),n(21699),n(25440),n(78029)),I=n(21397);function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n){return t=(0,D.A)(t),(0,T.A)(e,R()?Reflect.construct(t,n||[],(0,D.A)(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var M={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},L=function(e){function t(e,n){var r,i;return(0,l.A)(this,t),(r=U(this,t,[e])).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,E.A)(t,e),(0,u.A)(t)}((0,x.A)(Error)),z=function(){function e(t,n){(0,l.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return(0,u.A)(e,[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new L("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var o,a=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),s=j(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(null!=l.size&&(a+=l.size)>r)throw new L(this.i18n("exceedsSize",{size:B(r),file:l.name}))}}catch(u){s.e(u)}finally{s.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&I(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var o=i.join(", ");throw new L(this.i18n("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new L(this.i18n("exceedsSize",{size:B(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new L(this.i18n("inferiorSize",{size:B(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new L(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new L(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=j(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var o=t.value;Object.hasOwn(e.meta,o)&&""!==e.meta[o]||r.push(o)}}catch(a){i.e(a)}finally{i.f()}return{missingFields:r,error:n}}}]),e}();const q={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $=0;function X(e){return"__private_"+$+++"_"+e}var Y={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},Q=X("plugins"),J=X("restricter"),Z=X("storeUnsubscribe"),ee=X("emitter"),te=X("preProcessors"),ne=X("uploaders"),re=X("postProcessors"),ie=X("informAndEmit"),oe=X("checkRequiredMetaFieldsOnFile"),ae=X("checkRequiredMetaFields"),se=X("assertNewUploadAllowed"),le=X("transformFile"),ue=X("startIfAutoProceed"),ce=X("checkAndUpdateFileState"),pe=X("addListeners"),de=X("updateOnlineStatus"),he=X("requestClientById"),fe=X("createUpload"),ge=X("getUpload"),ve=X("removeUpload"),ye=X("runUpload"),me=function(e,t){function n(e){var t=this;(0,l.A)(this,n),Object.defineProperty(this,ye,{value:De}),Object.defineProperty(this,ve,{value:Te}),Object.defineProperty(this,ge,{value:Ce}),Object.defineProperty(this,fe,{value:Fe}),Object.defineProperty(this,pe,{value:_e}),Object.defineProperty(this,ce,{value:Se}),Object.defineProperty(this,ue,{value:ke}),Object.defineProperty(this,le,{value:Oe}),Object.defineProperty(this,se,{value:Ae}),Object.defineProperty(this,ae,{value:Pe}),Object.defineProperty(this,oe,{value:we}),Object.defineProperty(this,ie,{value:be}),Object.defineProperty(this,Q,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:d()}),Object.defineProperty(this,te,{writable:!0,value:new Set}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=h((function(e,n){var r=t.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;t.setFileState(e.id,{progress:G(G({},r.progress),{},{bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:i?Math.round(n.bytesUploaded/n.bytesTotal*100):0})}),t.calculateTotalProgress()}else t.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else t.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,de,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,he,{writable:!0,value:new Map}),this.defaultLocale=q;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:M,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new O,logger:C.I,infoTimeout:5e3},i=G(G({},r),e);this.opts=G(G({},i),{},{restrictions:G(G({},r.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=C.w),this.log("Using Core v".concat(n.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(G(G({},Y),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:F(),individualCancellation:!0,resumableUploads:!1},meta:G({},this.opts.meta),info:[]})),K(this,J)[J]=new z((function(){return t.opts}),this.i18n),K(this,Z)[Z]=this.store.subscribe((function(e,n,r){t.emit("state-update",e,n,r),t.updateAll(n)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),K(this,pe)[pe]()}return(0,u.A)(n,[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=K(this,ee)[ee]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return K(this,ee)[ee].on(e,t),this}},{key:"once",value:function(e,t){return K(this,ee)[ee].once(e,t),this}},{key:"off",value:function(e,t){return K(this,ee)[ee].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:G(G({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,a.A)(e,2),r=n[0],i=n[1];return[r,G(G({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Can’t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,s.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new p.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=G(G(G({},this.opts),e),{},{restrictions:G(G({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=G({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=G(G({},t[r]),{},{progress:G(G({},t[r].progress),e)})})),this.setState(G({files:n},Y)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(G(G({},Y),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){K(this,te)[te].add(e)}},{key:"removePreProcessor",value:function(e){return K(this,te)[te].delete(e)}},{key:"addPostProcessor",value:function(e){K(this,re)[re].add(e)}},{key:"removePostProcessor",value:function(e){return K(this,re)[re].delete(e)}},{key:"addUploader",value:function(e){K(this,ne)[ne].add(e)}},{key:"removeUploader",value:function(e){return K(this,ne)[ne].delete(e)}},{key:"setMeta",value:function(e){var t=G(G({},this.getState().meta),e),n=G({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=G(G({},n[t]),{},{meta:G(G({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=G({},this.getState().files);if(n[e]){var r=G(G({},n[e].meta),t);n[e]=G(G({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),o=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),a=i.filter((function(e){return!e.progress.uploadStarted})),s=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),l=i.filter((function(e){return e.progress.uploadStarted})),u=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),p=i.filter((function(e){return e.error})),d=o.filter((function(e){return!e.isPaused})),h=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:a,startedFiles:s,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:o,inProgressNotPausedFiles:d,processingFiles:h,isUploadStarted:l.length>0,isAllComplete:100===n&&c.length===i.length&&0===h.length,isAllErrored:!!r&&p.length===i.length,isAllPaused:0!==o.length&&u.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{K(this,J)[J].validate(t,[e])}catch(n){return n}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){K(this,se)[se](e);var t=K(this,ce)[ce]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,o=i.filter((function(e){return e.isRestriction}));if(K(this,ie)[ie](o),i.length>0)throw i[0];this.setState({files:n});var s=(0,a.A)(r,1)[0];return this.emit("file-added",s),this.emit("files-added",r),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),K(this,ue)[ue](),s.id}},{key:"addFiles",value:function(e){var t=this;K(this,se)[se]();var n=K(this,ce)[ce](e),r=n.nextFilesState,i=n.validFilesToAdd,o=n.errors,a=o.filter((function(e){return e.isRestriction}));K(this,ie)[ie](a);var s=o.filter((function(e){return!e.isRestriction}));if(s.length>0){var l="Multiple errors occurred while adding files:\n";if(s.forEach((function(e){l+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(s,l);var u=new Error(l);throw u.errors=s,u}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&K(this,ue)[ue]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,o=r.currentUploads,a=G({},i),s=G({},o),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete a[e])})),Object.keys(s).forEach((function(e){var t=o[e].fileIDs.filter(u);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==o[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");s[e]=G(G({},o[e]),{},{fileIDs:t})}else delete s[e]}));var c={currentUploads:s,files:a};0===Object.keys(a).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var p=Object.keys(l);p.forEach((function(e){n.emit("file-removed",l[e],t)})),p.length>5?this.log("Removed ".concat(p.length," files")):this.log("Removed files: ".concat(p.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=G({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=G({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=G({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=K(this,fe)[fe](t,{forceAllowNewUpload:!0});return K(this,ye)[ye](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(Y)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=K(this,fe)[fe]([e],{forceAllowNewUpload:!0});return K(this,ye)[ye](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var o=0;t.forEach((function(e){o+=e.progress.bytesUploaded})),n.forEach((function(e){o+=i*(e.progress.percentage||0)/100}));var a=0===r?0:Math.round(o/r*100);a>100&&(a=100),this.setState({totalProgress:a}),this.emit("progress",a)}else{var s=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/s*100);this.setState({totalProgress:u})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,o.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var a=this.getPlugin(i);if(a){var s="Already found a plugin named '".concat(a.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(s)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in K(this,Q)[Q]?K(this,Q)[Q][r.type].push(r):K(this,Q)[Q][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values(K(this,Q)[Q]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return K(this,Q)[Q][e]}},{key:"iteratePlugins",value:function(e){Object.values(K(this,Q)[Q]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=K(this,Q)[Q][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:G(G({},this.getState().plugins),{},(0,s.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),K(this,Z)[Z](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",K(this,de)[de]),window.removeEventListener("offline",K(this,de)[de]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var a="object"===(0,o.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:a?e.message:e,details:a?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){K(this,he)[he].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=K(this,he)[he].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?K(this,ye)[ye](e):(K(this,ve)[ve](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=K(this,fe))[fe].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if(K(this,ge)[ge](e)){var n=this.getState().currentUploads,r=G(G({},n[e]),{},{result:G(G({},n[e].result),t)});this.setState({currentUploads:G(G({},n),{},(0,s.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=K(this,Q)[Q].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,o.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return K(t,J)[J].validateMinNumberOfFiles(n)})).catch((function(e){throw K(t,ie)[ie]([e]),e})).then((function(){if(!K(t,ae)[ae](n))throw new L(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var o=K(t,fe)[fe](i);return K(t,ye)[ye](o)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}]),n}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function be(e){var t,n=this,r=H(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(l){r.e(l)}finally{r.f()}var o=e.filter((function(e){return e.isUserFacing})),a=o.slice(0,4),s=o.slice(4);a.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}function we(e){var t=K(this,J)[J].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function Pe(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];K(this,oe)[oe](i)||(t=!1)}return t}function Ae(e){if(!1===this.getState().allowNewUpload){var t=new L(this.i18n("noMoreFilesAllowed"),{file:e});throw K(this,ie)[ie]([t]),t}}function Oe(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,k.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,S.A)(r).extension,o=(0,_.N)(t),a=t.meta||{};a.name=r,a.type=n;var s=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:r,extension:i||"",meta:G(G({},this.getState().meta),a),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:s,uploadComplete:!1,uploadStarted:null},size:s,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function ke(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function Se(e){var t,n=this.getState().files,r=G({},n),i=[],a=[],s=H(e);try{for(s.s();!(t=s.n()).done;){var l=t.value;try{var u,c=K(this,le)[le](l),p=null==(u=n[c.id])?void 0:u.isGhost;if(p)c=G(G({},n[c.id]),{},{isGhost:!1,data:l.data}),this.log("Replaced the blob in the restored ghost file: ".concat(c.name,", ").concat(c.id));var d=this.opts.onBeforeFileAdded(c,r);if(!d&&this.checkIfFileAlreadyExists(c.id))throw new L(this.i18n("noDuplicates",{fileName:c.name}),{file:l});if(!1===d&&!p)throw new L("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});"object"===(0,o.A)(d)&&null!==d&&(c=d),K(this,J)[J].validateSingleFile(c),r[c.id]=c,i.push(c)}catch(h){a.push(h)}}}catch(h){s.e(h)}finally{s.f()}try{K(this,J)[J].validateAggregateRestrictions(Object.values(n),i)}catch(h){return a.push(h),{nextFilesState:n,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}}function _e(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,o.A)(r)&&r.message){var a;e.log(r.message,"error");var s=new Error(e.i18n("failedToUpload",{file:null!=(a=null==n?void 0:n.name)?a:""}));s.isUserFacing=!0,s.details=r.message,r.details&&(s.details+=" ".concat(r.details)),K(e,ie)[ie]([s])}else K(e,ie)[ie]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,o=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:o},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(o).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:G(G({},r),{},{postprocess:K(e,re)[re].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:G(G({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=G({},e.getState().files);n[t.id]=G(G({},n[t.id]),{},{progress:G({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:G(G({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=G({},e.getState().files);n[t.id]=G(G({},n[t.id]),{},{progress:G({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&K(e,oe)[oe](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",K(this,de)[de]),window.addEventListener("offline",K(this,de)[de]),setTimeout(K(this,de)[de],3e3))}function Fe(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),o=i.allowNewUpload,a=i.currentUploads;if(!o&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:G(G({},a),{},(0,s.A)({},l,{fileIDs:e,step:0,result:{}}))}),l}function Ce(e){return this.getState().currentUploads[e]}function Te(e){var t=G({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function De(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,r.A)(c.mark((function e(t){var n,r,o,a,l,u,p,d,h,f,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return g.getState().currentUploads[t]})(),o=[].concat((0,i.A)(K(this,te)[te]),(0,i.A)(K(this,ne)[ne]),(0,i.A)(K(this,re)[re])),e.prev=3,a=r.step||0;case 5:if(!(a<o.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return l=o[a],this.setState({currentUploads:G(G({},this.getState().currentUploads),{},(0,s.A)({},t,G(G({},r),{},{step:a})))}),u=r.fileIDs,e.next=13,l(u,t);case 13:r=n();case 14:a++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),K(this,ve)[ve](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=g.getFile(e);t&&t.progress.postprocess&&g.emit("postprocess-complete",t)})),p=r.fileIDs.map((function(e){return g.getFile(e)})),d=p.filter((function(e){return!e.error})),h=p.filter((function(e){return e.error})),this.addResultData(t,{successful:d,failed:h,uploadID:t}),r=n()),r&&(f=r.result,this.emit("complete",f),K(this,ve)[ve](t)),null==f&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}me.VERSION="3.9.3";const xe=me},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>a,I:()=>o});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var o={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},a={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},50006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dashboard:()=>ts,DashboardModal:()=>ss,DragDrop:()=>bs,FileInput:()=>$s,ProgressBar:()=>Es,StatusBar:()=>Us,useUppy:()=>Xs});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(15472),n(23500);var r=n(51531),i=n(58237),o=n(84285),a=n(78158),s=n(36858),l=n(31061),u=n(55384),c=n(18443),p=n(78241),d=n(61792),h=(n(16280),n(89463),n(2259),n(76918),n(74423),n(25276),n(23418),n(64346),n(23792),n(62062),n(34782),n(15086),n(23288),n(62010),n(3362),n(27495),n(90906),n(38781),n(47764),n(62953),n(76031),n(73848));n(72712),n(94170),n(16034);function f(e,t,n,r){return 0===n||e===t?e:0===r?t:e+(t-e)*Math.pow(2,-r/n)}var g=n(36118);const v={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var y=n(36480),m=n(23546);function b(e){for(var t,n=[],r="indeterminate",i=0,o=Object.values(e);i<o.length;i++){var a=o[i].progress,s=a.preprocess,l=a.postprocess;if(null==t&&(s||l)){var u=s||l;r=u.mode,t=u.message}"determinate"===(null==s?void 0:s.mode)&&n.push(s.value),"determinate"===(null==l?void 0:l.mode)&&n.push(l.value)}return{mode:r,message:t,value:n.reduce((function(e,t){return e+t/n.length}),0)}}n(28706);var w=n(78029);n(68156);function P(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),r=0===n.hours?"":"".concat(n.hours,"h"),i=0===n.minutes?"":"".concat(0===n.hours?n.minutes:" ".concat(n.minutes.toString(10).padStart(2,"0")),"m"),o=0!==n.hours?"":"".concat(0===n.minutes?n.seconds:" ".concat(n.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(i).concat(o)}var A=function(){return" ".concat("·"," ")};function O(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,o=e.uploadState,a=e.isSomeGhost,s=e.startUpload,l=m("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===v.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),u=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,y.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:a,"data-uppy-super-focusable":!0},u)}function k(e){var t=e.i18n,n=e.uppy;return(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll().catch((function(){}))},"data-uppy-super-focusable":!0,"data-cy":"retry"},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,y.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function S(e){var t=e.i18n,n=e.uppy;return(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,y.h)("g",{fill:"none",fillRule:"evenodd"},(0,y.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,y.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function _(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,o=e.uppy,a=n(t?"resume":"pause");return(0,y.h)("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){r||(i?t?o.resumeAll():o.pauseAll():o.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,y.h)("g",{fill:"none",fillRule:"evenodd"},(0,y.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,y.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function F(e){var t=e.i18n,n=e.doneButtonHandler;return(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function C(){return(0,y.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,y.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function T(e){var t=e.progress,n=t.value,r=t.mode,i=t.message;return(0,y.h)("div",{className:"uppy-StatusBar-content"},(0,y.h)(C,null),"determinate"===r?"".concat(Math.round(100*n),"% ").concat("·"," "):"",i)}function D(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,o=e.totalETA,a=e.i18n,s=t>1;return(0,y.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&a("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,y.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&A(),a("dataUploadedOfTotal",{complete:w(r),total:w(i)}),A(),a("xTimeLeft",{time:P(o)})))}function E(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,y.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function x(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=m("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,y.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,y.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,y.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}function B(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,o=e.isUploadStarted,a=e.isAllComplete,s=e.isAllPaused,l=e.newFiles,u=e.numUploads,c=e.complete,p=e.totalUploadedSize,d=e.totalSize,h=e.totalETA,f=e.startUpload,g=l&&o;if(!o||a)return null;var v=t(s?"paused":"uploading");return(0,y.h)("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},s?null:(0,y.h)(C,null),(0,y.h)("div",{className:"uppy-StatusBar-status"},(0,y.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(v,": ").concat(r,"%"):v),s||g||!i?null:n?(0,y.h)(D,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:d,totalETA:h,i18n:t}):(0,y.h)(E,{i18n:t,complete:c,numUploads:u}),g?(0,y.h)(x,{i18n:t,newFiles:l,startUpload:f}):null))}function I(e){var t=e.i18n;return(0,y.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,y.h)("div",{className:"uppy-StatusBar-status"},(0,y.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,y.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function j(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,y.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,y.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,y.h)("div",{className:"uppy-StatusBar-status"},(0,y.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,y.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,y.h)(E,{i18n:n,complete:r,numUploads:i})))}var N=v.STATE_ERROR,U=v.STATE_WAITING,R=v.STATE_PREPROCESSING,M=v.STATE_UPLOADING,L=v.STATE_POSTPROCESSING,z=v.STATE_COMPLETE;function q(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,o=e.resumableUploads,a=e.error,s=e.hideUploadButton,l=e.hidePauseResumeButton,u=e.hideCancelButton,c=e.hideRetryButton,p=e.recoveredState,d=e.uploadState,h=e.totalProgress,f=e.files,g=e.supportsUploadProgress,v=e.hideAfterFinish,w=e.isSomeGhost,P=e.doneButtonHandler,A=e.isUploadStarted,C=e.i18n,D=e.startUpload,E=e.uppy,x=e.isAllComplete,q=e.showProgressDetails,H=e.numUploads,V=e.complete,W=e.totalSize,G=e.totalETA,K=e.totalUploadedSize;var $=function(){switch(d){case L:case R:var e=b(f);return"determinate"===e.mode?100*e.value:h;case N:return null;case M:return g?h:null;default:return h}}(),X=function(){if(p)return!1;switch(d){case U:return s||0===t;case z:return v;default:return!1}}(),Y=null!=$?$:100,Q=!a&&t&&!r&&!i&&n&&!s,J=!u&&d!==U&&d!==z,Z=o&&!l&&d===M,ee=a&&!x&&!c,te=P&&d===z,ne=m("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(d){case L:case R:return"indeterminate"===b(f).mode;case M:return!g;default:return!1}}()}),re=m("uppy-StatusBar","is-".concat(d),{"has-ghosts":w});return(0,y.h)("div",{className:re,"aria-hidden":X},(0,y.h)("div",{className:ne,style:{width:"".concat(Y,"%")},role:"progressbar","aria-label":"".concat(Y,"%"),"aria-valuetext":"".concat(Y,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":$}),function(){switch(d){case R:case L:return(0,y.h)(T,{progress:b(f)});case z:return(0,y.h)(I,{i18n:C});case N:return(0,y.h)(j,{error:a,i18n:C,numUploads:H,complete:V});case M:return(0,y.h)(B,{i18n:C,supportsUploadProgress:g,totalProgress:h,showProgressDetails:q,isUploadStarted:A,isAllComplete:x,isAllPaused:i,newFiles:t,numUploads:H,complete:V,totalUploadedSize:K,totalSize:W,totalETA:G,startUpload:D});default:return null}}(),(0,y.h)("div",{className:"uppy-StatusBar-actions"},p||Q?(0,y.h)(O,{newFiles:t,isUploadStarted:A,recoveredState:p,i18n:C,isSomeGhost:w,startUpload:D,uploadState:d}):null,ee?(0,y.h)(k,{i18n:C,uppy:E}):null,Z?(0,y.h)(_,{isAllPaused:i,i18n:C,isAllComplete:x,resumableUploads:o,uppy:E}):null,J?(0,y.h)(S,{i18n:C,uppy:E}):null,te?(0,y.h)(F,{i18n:C,doneButtonHandler:P}):null))}q.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const H={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,K()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}function $(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var X=0;function Y(e){return"__private_"+X+++"_"+e}function Q(e,t,n,r){if(e)return v.STATE_ERROR;if(t)return v.STATE_COMPLETE;if(n)return v.STATE_WAITING;for(var i=v.STATE_WAITING,o=Object.keys(r),a=0;a<o.length;a++){var s=r[o[a]].progress;if(s.uploadStarted&&!s.uploadComplete)return v.STATE_UPLOADING;s.preprocess&&(i=v.STATE_PREPROCESSING),s.postprocess&&i!==v.STATE_PREPROCESSING&&(i=v.STATE_POSTPROCESSING)}return i}var J={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},Z=Y("lastUpdateTime"),ee=Y("previousUploadedBytes"),te=Y("previousSpeed"),ne=Y("previousETA"),re=Y("computeSmoothETA"),ie=Y("onUploadStart"),oe=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=G(this,t,[e,W(W({},J),n)]),Object.defineProperty((0,p.A)(r),re,{value:ae}),Object.defineProperty((0,p.A)(r),Z,{writable:!0,value:void 0}),Object.defineProperty((0,p.A)(r),ee,{writable:!0,value:void 0}),Object.defineProperty((0,p.A)(r),te,{writable:!0,value:void 0}),Object.defineProperty((0,p.A)(r),ne,{writable:!0,value:void 0}),r.startUpload=function(){return r.uppy.upload().catch((function(){}))},Object.defineProperty((0,p.A)(r),ie,{writable:!0,value:function(){var e=r.uppy.getState().recoveredState;if($((0,p.A)(r),te)[te]=null,$((0,p.A)(r),ne)[ne]=null,e)return $((0,p.A)(r),ee)[ee]=Object.values(e.files).reduce((function(e,t){return e+t.progress.bytesUploaded}),0),void r.uppy.emit("restore-confirmed");$((0,p.A)(r),Z)[Z]=performance.now(),$((0,p.A)(r),ee)[ee]=0}}),r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=H,r.i18nInit(),r.render=r.render.bind((0,p.A)(r)),r.install=r.install.bind((0,p.A)(r)),r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,o=e.error,a=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.startedFiles,c=s.completeFiles,p=s.isUploadStarted,d=s.isAllComplete,h=s.isAllErrored,f=s.isAllPaused,g=s.isUploadInProgress,v=s.isSomeGhost,y=a?Object.values(n):l,m=!!t.resumableUploads,b=!1!==t.uploadProgress,w=0,P=0;u.forEach((function(e){w+=e.progress.bytesTotal||0,P+=e.progress.bytesUploaded||0}));var A=$(this,re)[re]({uploaded:P,total:w,remaining:w-P});return q({error:o,uploadState:Q(o,d,a,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:w,totalUploadedSize:P,isAllComplete:!1,isAllPaused:f,isAllErrored:h,isUploadStarted:p,isUploadInProgress:g,isSomeGhost:v,recoveredState:a,complete:c.length,newFiles:y.length,numUploads:u.length,totalETA:A,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:m,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,g.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this),this.uppy.on("upload",$(this,ie)[ie]),$(this,Z)[Z]=performance.now(),$(this,ee)[ee]=this.uppy.getFiles().reduce((function(e,t){return e+t.progress.bytesUploaded}),0)}},{key:"uninstall",value:function(){this.unmount(),this.uppy.off("upload",$(this,ie)[ie])}}]),t}(h.A);function ae(e){var t;if(0===e.total||0===e.remaining)return 0;null!=(t=$(this,Z))[Z]||(t[Z]=performance.now());var n,r=performance.now()-$(this,Z)[Z];if(0===r)return Math.round((null!=(n=$(this,ne)[ne])?n:0)/100)/10;var i,o=e.uploaded-$(this,ee)[ee];if($(this,ee)[ee]=e.uploaded,o<=0)return Math.round((null!=(i=$(this,ne)[ne])?i:0)/100)/10;var a=o/r,s=null==$(this,te)[te]?a:f(a,$(this,te)[te],2e3,r);$(this,te)[te]=s;var l=e.remaining/s,u=Math.max($(this,ne)[ne]-r,0),c=null==$(this,ne)[ne]?l:f(l,u,2e3,r);return $(this,ne)[ne]=c,$(this,Z)[Z]=performance.now(),Math.round(c/100)/10}function se(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,le()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(le=function(){return!!e})()}oe.VERSION="3.3.0";var ue=function(e){function t(){var e;return(0,i.A)(this,t),(e=se(this,t,arguments)).ref=(0,y._3)(),e}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentWillEnter",value:function(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}},{key:"componentWillLeave",value:function(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}},{key:"render",value:function(){var e=this.props.children;return(0,y.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}]),t}(y.uA),ce=n(80241),pe=n(35754),de=(n(54554),n(69085),n(5506),["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);function he(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,fe()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}function ge(e){for(var t,n,r,i={},o=0;o<e.length;o++){if(null!=e[o])i[(t=e[o],n=o.toString(36),r=void 0,null!=(r=null==t?void 0:t.key)?r:n)]=e[o]}return i}function ve(e,t){e=e||{},t=t||{};var n=function(n){return t.hasOwnProperty(n)?t[n]:e[n]},r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a={};for(var s in t){if(r.hasOwnProperty(s))for(var l=0;l<r[s].length;l++){var u=r[s][l];a[r[s][l]]=n(u)}a[s]=n(s)}for(var c=0;c<i.length;c++)a[i[c]]=n(i[c]);return a}var ye=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=he(this,t,[e,n])).refs={},r.state={children:ge((0,y.v2)((0,y.v2)(r.props.children))||[])},r.performAppear=r.performAppear.bind((0,p.A)(r)),r.performEnter=r.performEnter.bind((0,p.A)(r)),r.performLeave=r.performLeave.bind((0,p.A)(r)),r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}},{key:"componentWillReceiveProps",value:function(e){var t,n=ge((0,y.v2)(e.children)||[]),r=this.state.children;for(t in this.setState((function(e){return{children:ve(e.children,n)}})),n)if(n.hasOwnProperty(t)){var i=r&&r.hasOwnProperty(t);n[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!n[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){var o=n&&n.hasOwnProperty(t);!r[t]||o||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"_finishAbort",value:function(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}},{key:"performAppear",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}},{key:"_handleDoneAppearing",value:function(e){var t=this.refs[e];null!=t&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ge((0,y.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performEnter",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}},{key:"_handleDoneEntering",value:function(e){var t=this.refs[e];null!=t&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ge((0,y.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performLeave",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}},{key:"_handleDoneLeaving",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];null!=t&&t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n,r,i=ge((0,y.v2)(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var o=(n={},r=this.state.children,Object.assign(n,r));delete o[e],this.setState({children:o})}}}},{key:"render",value:function(e,t){var n=this,r=e.childFactory,i=(e.transitionLeave,e.transitionName,e.transitionAppear,e.transitionEnter,e.transitionLeaveTimeout,e.transitionEnterTimeout,e.transitionAppearTimeout,e.component),o=(0,pe.A)(e,de),a=t.children,s=Object.entries(a).map((function(e){var t=(0,ce.A)(e,2),i=t[0],o=t[1];if(o){var a=function(e,t){var n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=function(n){e.refs[t]=n})}(n,i);return(0,y.Ob)(r(o),{ref:a,key:i})}})).filter(Boolean);return(0,y.h)(i,o,s)}}]),t}(y.uA);ye.defaultProps={component:"span",childFactory:function(e){return e}};const me=ye;function be(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,we()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var Pe=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=be(this,t,[e,n])).render=function(e){return(0,y.h)("div",{className:"uppy uppy-Informer"},(0,y.h)(me,null,e.info.map((function(e){return(0,y.h)(ue,{key:e.message},(0,y.h)("p",{role:"alert"},e.message," ",e.details&&(0,y.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(e.message," \n\n ").concat(e.details))}},"?")))}))))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}}]),t}(h.A);Pe.VERSION="3.1.0";n(11367),n(3296),n(48408),n(11745),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(2945),n(55815),n(64979),n(79739);var Ae=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;n(11392);function Oe(e){return e.startsWith("blob:")}function ke(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}var Se=n(8498);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe="undefined"!=typeof self?self:global;const Ce="undefined"!=typeof navigator,Te=Ce&&"undefined"==typeof HTMLImageElement,De=!("undefined"==typeof global||void 0===Se||!Se.versions||!Se.versions.node),Ee=Fe.Buffer,xe=!!Ee,Be=e=>void 0!==e;function Ie(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(Be).length)}function je(e){let t=new Error(e);throw delete t.stack,t}function Ne(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Ue=e=>String.fromCharCode.apply(null,e),Re="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class Me{static from(e,t){return e instanceof this&&e.le===t?e:new Me(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Me){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&je("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else je("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=Me){return e instanceof DataView||e instanceof Me?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||je("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Me(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return n=this.getUint8Array(e,t),Re?Re.decode(n):xe?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(Ue(n)));var n}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return Ue(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return Ue(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Le(e,t){je(`${e} '${t}' was not loaded, try using full build of exifr.`)}class ze extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Le(this.kind,e),t&&(e in t||function(e,t){je(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||Le(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var qe=new ze("file parser"),He=new ze("segment parser"),Ve=new ze("file reader");let We=Fe.fetch;function Ge(e,t){return(n=e).startsWith("data:")||n.length>1e4?$e(e,t,"base64"):De&&e.includes("://")?Ke(e,t,"url",Xe):De?$e(e,t,"fs"):Ce?Ke(e,t,"url",Xe):void je("Invalid input argument");var n}async function Ke(e,t,n,r){return Ve.has(n)?$e(e,t,n):r?async function(e,t){let n=await t(e);return new Me(n)}(e,r):void je(`Parser ${n} is not loaded`)}async function $e(e,t,n){let r=new(Ve.get(n))(e,t);return await r.read(),r}const Xe=e=>We(e).then((e=>e.arrayBuffer())),Ye=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class Qe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Je(e,t,n){let r=new Qe;for(let[i,o]of n)r.set(i,o);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function Ze(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const et=new Map,tt=new Map,nt=new Map,rt=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],it=["jfif","xmp","icc","iptc","ihdr"],ot=["tiff",...it],at=["ifd0","ifd1","exif","gps","interop"],st=[...ot,...at],lt=["makerNote","userComment"],ut=["translateKeys","translateValues","reviveValues","multiSegment"],ct=[...ut,"sanitize","mergeOutput","silentErrors"];class pt{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class dt extends pt{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),_e(this,"enabled",!1),_e(this,"skip",new Set),_e(this,"pick",new Set),_e(this,"deps",new Set),_e(this,"translateKeys",!1),_e(this,"translateValues",!1),_e(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=at.includes(e),this.canBeFiltered&&(this.dict=et.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:je(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of ut)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:o}=this.dict;for(n of e)"string"==typeof n?(r=o.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,mt(this.pick,this.deps)):this.enabled&&this.pick.size>0&&mt(this.pick,this.deps)}}var ht={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ft=new Map;class gt extends pt{static useCached(e){let t=ft.get(e);return void 0!==t||(t=new this(e),ft.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):je(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Ce?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of rt)this[e]=ht[e];for(e of ct)this[e]=ht[e];for(e of lt)this[e]=ht[e];for(e of st)this[e]=new dt(e,ht[e],void 0,this)}setupFromTrue(){let e;for(e of rt)this[e]=ht[e];for(e of ct)this[e]=ht[e];for(e of lt)this[e]=!0;for(e of st)this[e]=new dt(e,!0,void 0,this)}setupFromArray(e){let t;for(t of rt)this[t]=ht[t];for(t of ct)this[t]=ht[t];for(t of lt)this[t]=ht[t];for(t of st)this[t]=new dt(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,at)}setupFromObject(e){let t;for(t of(at.ifd0=at.ifd0||at.image,at.ifd1=at.ifd1||at.thumbnail,Object.assign(this,e),rt))this[t]=yt(e[t],ht[t]);for(t of ct)this[t]=yt(e[t],ht[t]);for(t of lt)this[t]=yt(e[t],ht[t]);for(t of ot)this[t]=new dt(t,ht[t],e[t],this);for(t of at)this[t]=new dt(t,ht[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,at,st),!0===e.tiff?this.batchEnableWithBool(at,!0):!1===e.tiff?this.batchEnableWithUserValue(at,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,at):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,at)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=vt(e,n);for(let[e,n]of t)mt(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=vt(t,n);for(let[t,n]of e)mt(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=at.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let i of at)this[i].finalizeFilters()}get onlyTiff(){return!it.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ot)this[e].enabled&&!He.has(e)&&Le("segment parser",e)}}function vt(e,t){let n,r,i,o,a=[];for(i of t){for(o of(n=et.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&a.push([i,r])}return a}function yt(e,t){return void 0!==e?e:void 0!==t?t:void 0}function mt(e,t){for(let n of t)e.add(n)}_e(gt,"default",ht);class bt{constructor(e){_e(this,"parsers",{}),_e(this,"output",{}),_e(this,"errors",[]),_e(this,"pushToErrors",(e=>this.errors.push(e))),this.options=gt.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?Ge(e,t):Ce&&!Te&&e instanceof HTMLImageElement?Ge(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Me(e):Ce&&e instanceof Blob?Ke(e,t,"blob",Ye):void je("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of qe)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),je("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Ie(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=He.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),o=this.parsers.tiff=new n(i,e,t),a=await o.extractThumbnail();return t.close&&t.close(),a}}async function wt(e,t){let n=new bt(t);return await n.read(e),n.parse()}var Pt=Object.freeze({__proto__:null,parse:wt,Exifr:bt,fileParsers:qe,segmentParsers:He,fileReaders:Ve,tagKeys:et,tagValues:tt,tagRevivers:nt,createDictionary:Je,extendDictionary:Ze,fetchUrlAsArrayBuffer:Xe,readBlobAsArrayBuffer:Ye,chunkedProps:rt,otherSegments:it,segments:ot,tiffBlocks:at,segmentsAndBlocks:st,tiffExtractables:lt,inheritables:ut,allFormatters:ct,Options:gt});class At{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}static parse(e,t={}){return new this(e,new gt({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Me?e:new Me(e)}constructor(e,t={},n){_e(this,"errors",[]),_e(this,"raw",new Map),_e(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=nt.get(t),r=tt.get(t),i=et.get(t),o=this.options[t],a=o.reviveValues&&!!n,s=o.translateValues&&!!r,l=o.translateKeys&&!!i,u={};for(let[c,p]of e)a&&n.has(c)?p=n.get(c)(p):s&&r.has(c)&&(p=this.translateValue(p,r.get(c))),l&&i.has(c)&&(c=i.get(c)||c),u[c]=p;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function Ot(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function kt(e){return e>=224&&e<=239}function St(e,t,n){for(let[r,i]of He)if(i.canHandle(e,t,n))return r}_e(At,"headerLength",4),_e(At,"type",void 0),_e(At,"multiSegment",!1),_e(At,"canHandle",(()=>!1));class _t extends class{constructor(e,t,n){_e(this,"errors",[]),_e(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){je(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):je("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(He.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),_e(this,"appSegments",[]),_e(this,"jpegSegments",[]),_e(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(He.keyList())):(e=void 0===e?He.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&He.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:o}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=He.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;o.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(r)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,o,a,s,{file:l,findAll:u,wanted:c,remaining:p,options:d}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),kt(n)){if(r=l.getUint16(e+2),i=St(l,e,r),i&&c.has(i)&&(o=He.get(i),a=o.findPosition(l,e),s=d[i],a.type=i,this.appSegments.push(a),!u&&(o.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;d.recordUnknownSegments&&(a=At.findPosition(l,e),a.marker=n,this.unknownSegments.push(a)),e+=r+1}else if(Ot(n)){if(r=l.getUint16(e+2),218===n&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let n,r,i,o=new Map;for(let a=0;a<e.length;a++)n=e[a],r=n.type,o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return Array.from(o)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=He.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}_e(_t,"type","jpeg"),qe.set("jpeg",_t);const Ft=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Ct extends At{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let o=r.size>0,a=0===i.size,s=this.chunk.getUint16(e);e+=2;for(let l=0;l<s;l++){let s=this.chunk.getUint16(e);if(o){if(r.has(s)&&(n.set(s,this.parseTag(e,s,t)),r.delete(s),0===r.size))break}else!a&&i.has(s)||n.set(s,this.parseTag(e,s,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),o=r.getUint32(e+4),a=Ft[i];if(a*o<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&je(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&je(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,o);if(2===i)return""===(s=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(s=r.getString(e,o)).trim())?void 0:s;var s;if(7===i)return r.getUint8Array(e,o);if(1===o)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(o),n=a;for(let r=0;r<o;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:je(`Invalid tiff type ${e}`)}}}class Tt extends Ct{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&je("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&je(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Ne(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Ne(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Dt(...e.get(2),e.get(1))),e.set("longitude",Dt(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of at)if(e=this[t],!Ie(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function Dt(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}_e(Tt,"type","tiff"),_e(Tt,"headerLength",10),He.set("tiff",Tt);Object.freeze({__proto__:null,default:Pt,Exifr:bt,fileParsers:qe,segmentParsers:He,fileReaders:Ve,tagKeys:et,tagValues:tt,tagRevivers:nt,createDictionary:Je,extendDictionary:Ze,fetchUrlAsArrayBuffer:Xe,readBlobAsArrayBuffer:Ye,chunkedProps:rt,otherSegments:it,segments:ot,tiffBlocks:at,segmentsAndBlocks:st,tiffExtractables:lt,inheritables:ut,allFormatters:ct,Options:gt,parse:wt});const Et={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Et,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Et,{tiff:!1,ifd1:!0,mergeOutput:!1});const xt=Object.assign({},Et,{firstChunkSize:4e4,ifd0:[274]});const Bt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let It=!0,jt=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);It=r<13.4,jt=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);It=jt=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);It=jt=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);It=jt=Number(t)<77}}async function Nt(e){let t=await async function(e){let t=new bt(xt);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}(e);return Object.assign({canvas:It,css:jt},Bt[t])}class Ut extends Me{constructor(...e){super(...e),_e(this,"ranges",new Rt),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=xe?Ee.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Rt{constructor(){_e(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>Mt(e,t.offset,r)||Mt(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function Mt(e,t,n){return e<=t&&t<=n}class Lt extends Ut{constructor(e,t){super(0),_e(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Ve.set("blob",class extends Lt{async readWhole(){this.chunked=!1;let e=await Ye(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Ye(r);return this.set(i,e,!0)}});const zt={strings:{generatingThumbnails:"Generating thumbnails..."}};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Wt()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wt=function(){return!!e})()}function Gt(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(18===r.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})).then((function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((function(){return function(e,t,n){var r,i,o,a=Ae.exec(e),s=null!=(r=null!=(i=t.mimeType)?i:null==a?void 0:a[1])?r:"plain/text";if(null!=(null==a?void 0:a[2])){for(var l=atob(decodeURIComponent(a[3])),u=new Uint8Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);o=[u]}else null!=(null==a?void 0:a[3])&&(o=[decodeURIComponent(a[3])]);return n?new File(o,t.name||"",{type:s}):new Blob(o,{type:s})}(e.toDataURL(t,n),{})})).then((function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}var Kt=function(e){function t(e,n){var r;(0,i.A)(this,t),(r=Vt(this,t,[e,n])).onFileAdded=function(e){!e.preview&&e.data&&ke(e.type)&&!e.isRemote&&r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&Oe(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){r.uppy.getFiles().filter((function(e){return e.isRestored})).forEach((function(e){e.preview&&!Oe(e.preview)||r.addToQueue(e.id)}))},r.onAllFilesRemoved=function(){r.queue=[]},r.waitUntilAllProcessed=function(e){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})}));var t=function(){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}))};return new Promise((function(e){r.queueProcessing?r.uppy.once("thumbnail:all-generated",(function(){t(),e()})):(t(),e())}))},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.thumbnailType=r.opts.thumbnailType||"image/jpeg",r.defaultLocale=zt;if(r.opts=Ht(Ht({},{thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1}),n),r.i18nInit(),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"createThumbnail",value:function(e,t,n){var r=this,i=URL.createObjectURL(e.data),o=new Promise((function(e,t){var n=new Image;n.src=i,n.addEventListener("load",(function(){URL.revokeObjectURL(i),e(n)})),n.addEventListener("error",(function(e){URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))}))})),a=Nt(e.data).catch((function(){return 1}));return Promise.all([o,a]).then((function(e){var i=(0,ce.A)(e,2),o=i[0],a=i[1],s=r.getProportionalDimensions(o,t,n,a.deg),l=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");return o.translate(n/2,r/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}(o,a);return Gt(r.resizeImage(l,s.width,s.height),r.thumbnailType,80)})).then((function(e){return URL.createObjectURL(e)}))}},{key:"getProportionalDimensions",value:function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}},{key:"resizeImage",value:function(e,t,n){var r=function(e){var t=e.width/e.height,n=5e6,r=4096,i=Math.floor(Math.sqrt(n*t)),o=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,o=Math.round(i/t)),o>r&&(o=r,i=Math.round(t*o)),e.width>i){var a=document.createElement("canvas");return a.width=i,a.height=o,a.getContext("2d").drawImage(e,0,0,i,o),a}return e}(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);for(var o=t*Math.pow(2,i-1),a=n*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=o,s.height=a,s.getContext("2d").drawImage(r,0,0,o,a),r=s,o=Math.round(o/2),a=Math.round(a/2)}return r}},{key:"setPreviewURL",value:function(e,t){this.uppy.setFileState(e,{preview:t})}},{key:"addToQueue",value:function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch((function(){})).then((function(){return e.processQueue()})):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(e){var t=this;return ke(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)})).catch((function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)})):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),t}(h.A);Kt.VERSION="3.0.8";var $t=n(18180),Xt=n(10826);function Yt(e){if("string"==typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===(0,$t.A)(e)&&(0,Xt.A)(e)?[e]:null}const Qt=Array.from;n(66412);function Jt(e,t){this.v=e,this.k=t}function Zt(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof Jt;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function en(e){return function(){return new Zt(e.apply(this,arguments))}}function tn(e){return new Jt(e,0)}function nn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Jt(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}Zt.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Zt.prototype.next=function(e){return this._invoke("next",e)},Zt.prototype.throw=function(e){return this._invoke("throw",e)},Zt.prototype.return=function(e){return this._invoke("return",e)};var rn=n(46983);n(122);function on(e,t,n,r){var i=r.onSuccess;e.readEntries((function(r){var o=[].concat((0,rn.A)(t),(0,rn.A)(r));r.length?queueMicrotask((function(){on(e,o,n,{onSuccess:i})})):i(o)}),(function(e){n(e),i(t)}))}function an(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new un(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function un(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return un=function(e){this.s=e,this.n=e.next},un.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new un(e)}function cn(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:function(){return new Promise((function(t,n){return e.file(t,n)}))},values:function(){return en(d.mark((function n(){var r,i;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.createReader(),n.next=3,tn(new Promise((function(e){on(r,[],t,{onSuccess:function(n){return e(n.map((function(e){return cn(e,t)})))}})})));case 3:return i=n.sent,n.delegateYield(nn(ln(i)),"t0",5);case 5:case"end":return n.stop()}}),n)})))()},isSameEntry:void 0}}function pn(e,t,n){try{return void 0===n&&(n=void 0),en(d.mark((function r(){var i,o,a,s,l,u,c,p;return d.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(){return"".concat(t,"/").concat(e.name)},"file"!==e.kind){r.next=17;break}return r.next=4,tn(e.getFile());case 4:if(null==(o=r.sent)){r.next=12;break}return o.relativePath=t?i():null,r.next=10,o;case 10:r.next=15;break;case 12:if(null==n){r.next=15;break}return r.next=15,n;case 15:r.next=51;break;case 17:if("directory"!==e.kind){r.next=48;break}a=!1,s=!1,r.prev=20,u=ln(e.values());case 22:return r.next=24,tn(u.next());case 24:if(!(a=!(c=r.sent).done)){r.next=30;break}return p=c.value,r.delegateYield(nn(ln(pn(p,t?i():e.name))),"t0",27);case 27:a=!1,r.next=22;break;case 30:r.next=36;break;case 32:r.prev=32,r.t1=r.catch(20),s=!0,l=r.t1;case 36:if(r.prev=36,r.prev=37,!a||null==u.return){r.next=41;break}return r.next=41,tn(u.return());case 41:if(r.prev=41,!s){r.next=44;break}throw l;case 44:return r.finish(41);case 45:return r.finish(36);case 46:r.next=51;break;case 48:if(null==n){r.next=51;break}return r.next=51,n;case 51:case"end":return r.stop()}}),r,null,[[20,32,36,46],[37,,41,45]])})))()}catch(_e){return Promise.reject(_e)}}function dn(e,t){return hn.apply(this,arguments)}function hn(){return hn=en(d.mark((function e(t,n){var r,i,o,a,s,l;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(Promise.all(Array.from(t.items,function(){var e=(0,c.A)(d.mark((function e(t){var r,i;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return"function"==typeof t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry()},null!=r||(r=cn(i(),n)),e.abrupt("return",{fileSystemHandle:r,lastResortFile:t.getAsFile()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:r=e.sent,i=an(r),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=28;break}if(a=o.value,s=a.lastResortFile,null==(l=a.fileSystemHandle)){e.next=23;break}return e.prev=9,e.delegateYield(nn(ln(pn(l,"",s))),"t0",11);case 11:e.next=21;break;case 13:if(e.prev=13,e.t1=e.catch(9),null==s){e.next=20;break}return e.next=18,s;case 18:e.next=21;break;case 20:n(e.t1);case 21:e.next=26;break;case 23:if(null==s){e.next=26;break}return e.next=26,s;case 26:e.next=6;break;case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(4),i.e(e.t2);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[4,30,33,36],[9,13]])}))),hn.apply(this,arguments)}function fn(e){var t=Qt(e.files);return Promise.resolve(t)}function gn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new vn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function vn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return vn=function(e){this.s=e,this.n=e.next},vn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new vn(e)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.A)(d.mark((function e(t,n){var r,i,o,a,s,l,u,c,p;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!=(r=null==n?void 0:n.logDropError)?r:Function.prototype,e.prev=1,o=[],a=!1,s=!1,e.prev=5,u=gn(dn(t,i));case 7:return e.next=9,u.next();case 9:if(!(a=!(c=e.sent).done)){e.next=15;break}p=c.value,o.push(p);case 12:a=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,l=e.t0;case 21:if(e.prev=21,e.prev=22,!a||null==u.return){e.next=26;break}return e.next=26,u.return();case 26:if(e.prev=26,!s){e.next=29;break}throw l;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",o);case 34:return e.prev=34,e.t1=e.catch(1),e.abrupt("return",fn(t));case 37:case"end":return e.stop()}}),e,null,[[1,34],[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}n(48980),n(48598),n(25440);var bn=n(81700),wn=(n(59089),n(2892),n(25428),n(73772),n(30958),n(25331));n(55081),n(5914);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,On()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function On(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(On=function(){return!!e})()}var kn=function(e){function t(e){var n;return(0,i.A)(this,t),(n=An(this,t,[e])).name="TimeoutError",n}return(0,l.A)(t,e),(0,o.A)(t)}((0,bn.A)(Error)),Sn=function(e){function t(e){var n;return(0,i.A)(this,t),(n=An(this,t)).name="AbortError",n.message=e,n}return(0,l.A)(t,e),(0,o.A)(t)}((0,bn.A)(Error)),_n=function(e){return void 0===globalThis.DOMException?new Sn(e):new DOMException(e)},Fn=function(e){var t=void 0===e.reason?_n("This operation was aborted."):e.reason;return t instanceof Error?t:_n(t)};function Cn(e,t,n,i){var o,a=new Promise((function(a,s){if("number"!=typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({customTimers:{setTimeout,clearTimeout}},i),i.signal){var l=i.signal;l.aborted&&s(Fn(l)),l.addEventListener("abort",(function(){s(Fn(l))}))}o=i.customTimers.setTimeout.call(void 0,(function(){if("function"!=typeof n){var r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),i=n instanceof Error?n:new kn(r);"function"==typeof e.cancel&&e.cancel(),s(i)}else try{a(n())}catch(o){s(o)}}),t),(0,c.A)(d.mark((function t(){return d.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=a,t.next=4,e;case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),s(t.t2);case 11:return t.prev=11,i.customTimers.clearTimeout.call(void 0,o),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}else a(e)}));return a.clear=function(){clearTimeout(o),o=void 0},a}n(70761);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dn,En=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},xn=function(){function e(){(0,i.A)(this,e),Dn.set(this,[])}return(0,o.A)(e,[{key:"enqueue",value:function(e,t){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({priority:0},t);var n={priority:t.priority,run:e};if(this.size&&En(this,Dn,"f")[this.size-1].priority>=t.priority)En(this,Dn,"f").push(n);else{var i=function(e,t,n){for(var r=0,i=e.length;i>0;){var o=Math.trunc(i/2),a=r+o;n(e[a],t)<=0?(r=++a,i-=o+1):i=o}return r}(En(this,Dn,"f"),n,(function(e,t){return t.priority-e.priority}));En(this,Dn,"f").splice(i,0,n)}}},{key:"dequeue",value:function(){var e=En(this,Dn,"f").shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return En(this,Dn,"f").filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return En(this,Dn,"f").length}}]),e}();Dn=new WeakMap;const Bn=xn;function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Un()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Un(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Un=function(){return!!e})()}var Rn,Mn,Ln,zn,qn,Hn,Vn,Wn,Gn,Kn,$n,Xn,Yn,Qn,Jn,Zn,er,tr,nr,rr,ir,or,ar,sr,lr,ur,cr=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},pr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},dr=function(e){function t(){return(0,i.A)(this,t),Nn(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t)}((0,bn.A)(Error)),hr=function(e){function t(e){var n,r,o,a,s;if((0,i.A)(this,t),n=Nn(this,t),Rn.add((0,p.A)(n)),Mn.set((0,p.A)(n),void 0),Ln.set((0,p.A)(n),void 0),zn.set((0,p.A)(n),0),qn.set((0,p.A)(n),void 0),Hn.set((0,p.A)(n),void 0),Vn.set((0,p.A)(n),0),Wn.set((0,p.A)(n),void 0),Gn.set((0,p.A)(n),void 0),Kn.set((0,p.A)(n),void 0),$n.set((0,p.A)(n),void 0),Xn.set((0,p.A)(n),0),Yn.set((0,p.A)(n),void 0),Qn.set((0,p.A)(n),void 0),Jn.set((0,p.A)(n),void 0),Object.defineProperty((0,p.A)(n),"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=jn({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Bn},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(o=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==o?o:"","` (").concat((0,$t.A)(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(s=null===(a=e.interval)||void 0===a?void 0:a.toString())&&void 0!==s?s:"","` (").concat((0,$t.A)(e.interval),")"));return cr((0,p.A)(n),Mn,e.carryoverConcurrencyCount,"f"),cr((0,p.A)(n),Ln,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),cr((0,p.A)(n),qn,e.intervalCap,"f"),cr((0,p.A)(n),Hn,e.interval,"f"),cr((0,p.A)(n),Kn,new e.queueClass,"f"),cr((0,p.A)(n),$n,e.queueClass,"f"),n.concurrency=e.concurrency,n.timeout=e.timeout,cr((0,p.A)(n),Jn,!0===e.throwOnTimeout,"f"),cr((0,p.A)(n),Qn,!1===e.autoStart,"f"),n}var n,r,a,s,u;return(0,l.A)(t,e),(0,o.A)(t,[{key:"concurrency",get:function(){return pr(this,Yn,"f")},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat((0,$t.A)(e),")"));cr(this,Yn,e,"f"),pr(this,Rn,"m",sr).call(this)}},{key:"add",value:(u=(0,c.A)(d.mark((function e(t){var n,r=this,i=arguments;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},n=jn({timeout:this.timeout,throwOnTimeout:pr(this,Jn,"f")},n),e.abrupt("return",new Promise((function(e,i){pr(r,Kn,"f").enqueue((0,c.A)(d.mark((function o(){var a,s,l,u,c;return d.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(cr(r,Xn,(s=pr(r,Xn,"f"),++s),"f"),cr(r,zn,(l=pr(r,zn,"f"),++l),"f"),o.prev=2,!(null===(a=n.signal)||void 0===a?void 0:a.aborted)){o.next=5;break}throw new dr("The task was aborted.");case 5:return u=t({signal:n.signal}),n.timeout&&(u=Cn(Promise.resolve(u),n.timeout)),n.signal&&(u=Promise.race([u,pr(r,Rn,"m",lr).call(r,n.signal)])),o.next=10,u;case 10:c=o.sent,e(c),r.emit("completed",c),o.next=22;break;case 15:if(o.prev=15,o.t0=o.catch(2),!(o.t0 instanceof kn)||n.throwOnTimeout){o.next=20;break}return e(),o.abrupt("return");case 20:i(o.t0),r.emit("error",o.t0);case 22:return o.prev=22,pr(r,Rn,"m",tr).call(r),o.finish(22);case 25:case"end":return o.stop()}}),o,null,[[2,15,22,25]])}))),n),r.emit("add"),pr(r,Rn,"m",ir).call(r)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"addAll",value:(s=(0,c.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=(0,c.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"start",value:function(){return pr(this,Qn,"f")?(cr(this,Qn,!1,"f"),pr(this,Rn,"m",sr).call(this),this):this}},{key:"pause",value:function(){cr(this,Qn,!0,"f")}},{key:"clear",value:function(){cr(this,Kn,new(pr(this,$n,"f")),"f")}},{key:"onEmpty",value:(a=(0,c.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==pr(this,Kn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"empty");case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onSizeLessThan",value:(r=(0,c.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(pr(this,Kn,"f").size<t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"next",(function(){return pr(n,Kn,"f").size<t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onIdle",value:(n=(0,c.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==pr(this,Xn,"f")||0!==pr(this,Kn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"idle");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"size",get:function(){return pr(this,Kn,"f").size}},{key:"sizeBy",value:function(e){return pr(this,Kn,"f").filter(e).length}},{key:"pending",get:function(){return pr(this,Xn,"f")}},{key:"isPaused",get:function(){return pr(this,Qn,"f")}}]),t}(wn);Mn=new WeakMap,Ln=new WeakMap,zn=new WeakMap,qn=new WeakMap,Hn=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,$n=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Qn=new WeakMap,Jn=new WeakMap,Rn=new WeakSet,Zn=function(){return pr(this,Ln,"f")||pr(this,zn,"f")<pr(this,qn,"f")},er=function(){return pr(this,Xn,"f")<pr(this,Yn,"f")},tr=function(){var e;cr(this,Xn,(e=pr(this,Xn,"f"),--e),"f"),pr(this,Rn,"m",ir).call(this),this.emit("next")},nr=function(){pr(this,Rn,"m",ar).call(this),pr(this,Rn,"m",or).call(this),cr(this,Gn,void 0,"f")},rr=function(){var e=this,t=Date.now();if(void 0===pr(this,Wn,"f")){var n=pr(this,Vn,"f")-t;if(!(n<0))return void 0===pr(this,Gn,"f")&&cr(this,Gn,setTimeout((function(){pr(e,Rn,"m",nr).call(e)}),n),"f"),!0;cr(this,zn,pr(this,Mn,"f")?pr(this,Xn,"f"):0,"f")}return!1},ir=function(){if(0===pr(this,Kn,"f").size)return pr(this,Wn,"f")&&clearInterval(pr(this,Wn,"f")),cr(this,Wn,void 0,"f"),this.emit("empty"),0===pr(this,Xn,"f")&&this.emit("idle"),!1;if(!pr(this,Qn,"f")){var e=!pr(this,Rn,"a",rr);if(pr(this,Rn,"a",Zn)&&pr(this,Rn,"a",er)){var t=pr(this,Kn,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&pr(this,Rn,"m",or).call(this),!0)}}return!1},or=function(){var e=this;pr(this,Ln,"f")||void 0!==pr(this,Wn,"f")||(cr(this,Wn,setInterval((function(){pr(e,Rn,"m",ar).call(e)}),pr(this,Hn,"f")),"f"),cr(this,Vn,Date.now()+pr(this,Hn,"f"),"f"))},ar=function(){0===pr(this,zn,"f")&&0===pr(this,Xn,"f")&&pr(this,Wn,"f")&&(clearInterval(pr(this,Wn,"f")),cr(this,Wn,void 0,"f")),cr(this,zn,pr(this,Mn,"f")?pr(this,Xn,"f"):0,"f"),pr(this,Rn,"m",sr).call(this)},sr=function(){for(;pr(this,Rn,"m",ir).call(this););},lr=function(){var e=(0,c.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.addEventListener("abort",(function(){n(new dr("The task was aborted."))}),{once:!0})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=(0,c.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.on(t,(function i(){n&&!n()||(r.off(t,i),e())}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const fr=hr;var gr,vr,yr,mr,br=n(21214),wr=(n(88431),n(48718),0),Pr=[],Ar=[],Or=y.fF,kr=Or.__b,Sr=Or.__r,_r=Or.diffed,Fr=Or.__c,Cr=Or.unmount,Tr=Or.__;function Dr(e,t){Or.__h&&Or.__h(vr,e,wr||t),wr=0;var n=vr.__H||(vr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ar}),n.__[e]}function Er(e){return wr=1,function(e,t,n){var r=Dr(gr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):zr(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=vr,!vr.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var a=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&r.__c.props===e)&&(!o||o.call(this,e,t,n))};vr.u=!0;var o=vr.shouldComponentUpdate,a=vr.componentWillUpdate;vr.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}a&&a.call(this,e,t,n)},vr.shouldComponentUpdate=i}return r.__N||r.__}(zr,e)}function xr(e,t){var n=Dr(gr++,3);!Or.__s&&Lr(n.__H,t)&&(n.__=e,n.i=t,vr.__H.__h.push(n))}function Br(e,t){var n=Dr(gr++,7);return Lr(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ir(e,t){return wr=8,Br((function(){return e}),t)}function jr(){for(var e;e=Pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Rr),e.__H.__h.forEach(Mr),e.__H.__h=[]}catch(Fe){e.__H.__h=[],Or.__e(Fe,e.__v)}}Or.__b=function(e){vr=null,kr&&kr(e)},Or.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Tr&&Tr(e,t)},Or.__r=function(e){Sr&&Sr(e),gr=0;var t=(vr=e.__c).__H;t&&(yr===vr?(t.__h=[],vr.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Ar,e.__N=e.i=void 0}))):(t.__h.forEach(Rr),t.__h.forEach(Mr),t.__h=[],gr=0)),yr=vr},Or.diffed=function(e){_r&&_r(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Pr.push(t)&&mr===Or.requestAnimationFrame||((mr=Or.requestAnimationFrame)||Ur)(jr)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Ar&&(e.__=e.__V),e.i=void 0,e.__V=Ar}))),yr=vr=null},Or.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Rr),e.__h=e.__h.filter((function(e){return!e.__||Mr(e)}))}catch(Ee){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Or.__e(Ee,e.__v)}})),Fr&&Fr(e,t)},Or.unmount=function(e){Cr&&Cr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Rr(e)}catch(e){t=e}})),n.__H=void 0,t&&Or.__e(t,n.__v))};var Nr="function"==typeof requestAnimationFrame;function Ur(e){var t,n=function(){clearTimeout(r),Nr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Nr&&(t=requestAnimationFrame(n))}function Rr(e){var t=vr,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),vr=t}function Mr(e){var t=vr;e.__c=e.__(),vr=t}function Lr(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function zr(e,t){return"function"==typeof t?t(e):t}function qr(){return(0,y.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,y.h)("g",{fill:"none","fill-rule":"evenodd"},(0,y.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,y.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,y.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,y.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,y.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,y.h)("path",{d:"M4 4h18v18H4z"})))}function Hr(e){var t=e.pluginName,n=e.i18n,r=e.onAuth,i="Google Drive"===t,o=Ir((function(e){e.preventDefault(),r()}),[r]);return(0,y.h)("form",{onSubmit:o},i?(0,y.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},(0,y.h)(qr,null),n("signInWithGoogle")):(0,y.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:t})))}var Vr=function(e){var t=e.pluginName,n=e.i18n,r=e.onAuth;return(0,y.h)(Hr,{pluginName:t,i18n:n,onAuth:r})};function Wr(e){var t=e.loading,n=e.pluginName,r=e.pluginIcon,i=e.i18n,o=e.handleAuth,a=e.renderForm,s=void 0===a?Vr:a;return(0,y.h)("div",{className:"uppy-Provider-auth"},(0,y.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,y.h)("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:n})),(0,y.h)("div",{className:"uppy-Provider-authForm"},s({pluginName:n,i18n:i,loading:t,onAuth:o})))}function Gr(e){var t=e.i18n,n=e.logout,r=e.username;return(0,y.h)(y.FK,null,(0,y.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),(0,y.h)("button",{type:"button",onClick:n,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut")))}var Kr=function(e){var t=e.getFolder,n=e.title,r=e.isLast;return(0,y.h)(y.FK,null,(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},n),r?"":" / ")};function $r(e){var t=e.getFolder,n=e.title,r=e.breadcrumbsIcon,i=e.breadcrumbs;return(0,y.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,y.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},r),i.map((function(e,r){return(0,y.h)(Kr,{key:e.id,getFolder:function(){return t(e.requestPath,e.name)},title:0===r?n:e.name,isLast:r+1===i.length})})))}function Xr(e){return(0,y.h)(y.FK,null,e.showBreadcrumbs&&(0,y.h)($r,{getFolder:e.getFolder,breadcrumbs:e.breadcrumbs,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),(0,y.h)(Gr,{logout:e.logout,username:e.username,i18n:e.i18n}))}n(5746);var Yr=n(77943);function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e){return Jr(Jr({},e),{},{type:e.mimeType,extension:e.name?(0,Yr.A)(e.name).extension:null})}var ei=["data","rowHeight","renderRow","overscanCount"];function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ri(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ii()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ii(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ii=function(){return!!e})()}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}var ai={position:"relative",width:"100%",minHeight:"100%"},si={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};const li=function(e){function t(e){var n;return(0,i.A)(this,t),(n=ri(this,t,[e])).handleScroll=function(){n.setState({offset:n.base.scrollTop})},n.handleResize=function(){n.resize()},n.focusElement=null,n.state={offset:0,height:0},n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,o=void 0===i?10:i,a=(0,pe.A)(e,ei),s=this.state,l=s.offset,u=s.height,c=Math.floor(l/n),p=Math.floor(u/n);o&&(c=Math.max(0,c-c%o),p+=o);var d=c+p+4,h=t.slice(c,d),f=ni(ni({},ai),{},{height:t.length*n}),g=ni(ni({},si),{},{top:c*n});return(0,y.h)("div",oi({onScroll:this.handleScroll},a),(0,y.h)("div",{role:"presentation",style:f},(0,y.h)("div",{role:"presentation",style:g},h.map(r))))}}]),t}(y.uA);var ui=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e};function ci(e){var t=e.search,n=e.searchOnInput,r=e.searchTerm,i=e.showButton,o=e.inputLabel,a=e.clearSearchLabel,s=e.buttonLabel,l=e.clearSearch,u=e.inputClassName,c=e.buttonCSSClassName,p=Er(null!=r?r:""),d=(0,ce.A)(p,2),h=d[0],f=d[1],g=Ir((function(e){e.preventDefault(),t(h)}),[t,h]),v=Ir((function(e){var r=e.target.value;f(r),n&&t(r)}),[f,n,t]),m=Er((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=ui(),e})),b=(0,ce.A)(m,1)[0];return xr((function(){return document.body.appendChild(b),b.addEventListener("submit",g),function(){b.removeEventListener("submit",g),document.body.removeChild(b)}}),[b,g]),(0,y.h)(y.FK,null,(0,y.h)("input",{className:"uppy-u-reset ".concat(u),type:"search","aria-label":o,placeholder:o,value:h,onInput:v,form:b.id,"data-uppy-super-focusable":!0}),!i&&(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,y.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&h&&(0,y.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":a,title:a,onClick:function(){f(""),l&&l()}},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,y.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(c),type:"submit",form:b.id},s))}function pi(e){var t=e.cancel,n=e.done,r=e.i18n,i=e.selected;return(0,y.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:n,type:"button"},r("selectX",{smart_count:i})),(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))}function di(){return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,y.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function hi(){return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,y.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function fi(){return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,y.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,y.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function gi(e){var t=e.itemIconString;if(null===t)return null;switch(t){case"file":return(0,y.h)(di,null);case"folder":return(0,y.h)(hi,null);case"video":return(0,y.h)(fi,null);default:var n=e.alt;return(0,y.h)("img",{src:t,alt:n,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const vi=function(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isChecked,o=e.title,a=e.itemIconEl,s=e.showTitles,l=e.toggleCheckbox,u=e.recordShiftKeyPress,c=e.id,p=e.children,d=m("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return(0,y.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},(0,y.h)("input",{type:"checkbox",className:d,onChange:l,onKeyDown:u,onMouseDown:u,name:"listitem",id:c,checked:i,disabled:n,"data-uppy-super-focusable":!0}),(0,y.h)("label",{htmlFor:c,"aria-label":o,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},a,s&&o,p))};function yi(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isCheckboxDisabled,o=e.isChecked,a=e.toggleCheckbox,s=e.recordShiftKeyPress,l=e.type,u=e.id,c=e.itemIconEl,p=e.title,d=e.handleFolderClick,h=e.showTitles,f=e.i18n;return(0,y.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},i?null:(0,y.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:a,onKeyDown:s,onMouseDown:s,name:"listitem",id:u,checked:o,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:p}),disabled:n,"data-uppy-super-focusable":!0}),"file"===l?(0,y.h)("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,y.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&p):(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:d,"aria-label":f("openFolderNamed",{name:p})},(0,y.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&(0,y.h)("span",null,p)))}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}function bi(e){var t=e.author,n=e.getItemIcon,r=e.isChecked,i=e.isDisabled,o=e.viewType,a=n(),s=m("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":"video"===a}),l=(0,y.h)(gi,{itemIconString:a});switch(o){case"grid":return(0,y.h)(vi,mi({},e,{className:s,itemIconEl:l}));case"list":return(0,y.h)(yi,mi({},e,{className:s,itemIconEl:l}));case"unsplash":return(0,y.h)(vi,mi({},e,{className:s,itemIconEl:l}),(0,y.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},t.name));default:throw new Error("There is no such type ".concat(o))}}var wi="shared-with-me";function Pi(e){var t=e.currentSelection,n=e.uppyFiles,r=e.viewType,i=e.isChecked,o=e.toggleCheckbox,a=e.recordShiftKeyPress,s=e.showTitles,l=e.i18n,u=e.validateRestrictions,c=e.getNextFolder,p=e.f;if(p.isFolder)return bi({showTitles:s,viewType:r,i18n:l,id:p.id,title:p.name,getItemIcon:function(){return p.icon},isChecked:i(p),toggleCheckbox:function(e){return o(e,p)},recordShiftKeyPress:a,type:"folder",isDisabled:!1,isCheckboxDisabled:p.id===wi,handleFolderClick:function(){return c(p)}});var d=u(Zr(p),[].concat((0,rn.A)(n),(0,rn.A)(t)));return bi({id:p.id,title:p.name,author:p.author,getItemIcon:function(){return p.icon},isChecked:i(p),toggleCheckbox:function(e){return o(e,p)},isCheckboxDisabled:!1,recordShiftKeyPress:a,showTitles:s,viewType:r,i18n:l,type:"file",isDisabled:Boolean(d)&&!i(p),restrictionError:d})}const Ai=function(e){var t=e.currentSelection,n=e.folders,r=e.files,i=e.uppyFiles,o=e.viewType,a=e.headerComponent,s=e.showBreadcrumbs,l=e.isChecked,u=e.toggleCheckbox,c=e.recordShiftKeyPress,p=e.handleScroll,d=e.showTitles,h=e.i18n,f=e.validateRestrictions,g=e.isLoading,v=e.showSearchFilter,b=e.search,w=e.searchTerm,P=e.clearSearch,A=e.searchOnInput,O=e.searchInputLabel,k=e.clearSearchLabel,S=e.getNextFolder,_=e.cancel,F=e.done,C=e.noResultsLabel,T=e.loadAllFiles,D=t.length,E=Br((function(){return[].concat((0,rn.A)(n),(0,rn.A)(r))}),[n,r]);return(0,y.h)("div",{className:m("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(o))},a&&(0,y.h)("div",{className:"uppy-ProviderBrowser-header"},(0,y.h)("div",{className:m("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},a)),v&&(0,y.h)("div",{class:"uppy-ProviderBrowser-searchFilter"},(0,y.h)(ci,{search:b,searchTerm:w,clearSearch:P,inputLabel:O,clearSearchLabel:k,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:A})),g?(0,y.h)("div",{className:"uppy-Provider-loading"},(0,y.h)("span",null,h("loading"))):n.length||r.length?T?(0,y.h)("div",{className:"uppy-ProviderBrowser-body"},(0,y.h)("ul",{className:"uppy-ProviderBrowser-list"},(0,y.h)(li,{data:E,renderRow:function(e){return(0,y.h)(Pi,{currentSelection:t,uppyFiles:i,viewType:o,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:S,f:e})},rowHeight:31}))):(0,y.h)("div",{className:"uppy-ProviderBrowser-body"},(0,y.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:p,role:"listbox",tabIndex:-1},E.map((function(e){return(0,y.h)(Pi,{currentSelection:t,uppyFiles:i,viewType:o,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:S,f:e})})))):(0,y.h)("div",{className:"uppy-Provider-empty"},C),D>0&&(0,y.h)(pi,{selected:D,done:F,cancel:_,i18n:h}))};function Oi(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ki()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ki(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ki=function(){return!!e})()}var Si=function(e){function t(){return(0,i.A)(this,t),Oi(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.onUnmount)()}},{key:"render",value:function(){var e=this.props.children;return(0,y.v2)(e)[0]}}]),t}(y.uA),_i=(n(31415),n(51494));function Fi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ci(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=function(){function e(t,n){var r=this;(0,i.A)(this,e),this.filterItems=function(e){var t=r.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())})):e},this.recordShiftKeyPress=function(e){r.isShiftKeyPressed=e.shiftKey},this.toggleCheckbox=function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var n=r.plugin.getPluginState(),i=n.folders,o=n.files,a=r.filterItems(i.concat(o));if(r.lastCheckbox&&r.isShiftKeyPressed){var s,l=r.plugin.getPluginState().currentSelection,u=a.indexOf(r.lastCheckbox),c=a.indexOf(t),p=[],d=Fi(u<c?a.slice(u,c+1):a.slice(c,u+1));try{for(d.s();!(s=d.n()).done;){var h=s.value,f=r.plugin.uppy,g=f.validateRestrictions(Zr(h),[].concat((0,rn.A)(f.getFiles()),p));g?f.info({message:g.message},"error",f.opts.infoTimeout):p.push(h)}}catch(y){d.e(y)}finally{d.f()}r.plugin.setPluginState({currentSelection:(0,rn.A)(new Set([].concat((0,rn.A)(l),p)))})}else{r.lastCheckbox=t;var v=r.plugin.getPluginState().currentSelection;r.isChecked(t)?r.plugin.setPluginState({currentSelection:v.filter((function(e){return e.id!==t.id}))}):r.plugin.setPluginState({currentSelection:v.concat([t])})}},this.isChecked=function(e){return r.plugin.getPluginState().currentSelection.some((function(t){return t.id===e.id}))},this.plugin=t,this.provider=n.provider,this.opts=n,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return(0,o.A)(e,[{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(e){var t=e.target;return t.scrollHeight-(t.scrollTop+t.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}},{key:"handleError",value:function(e){var t,n=this.plugin.uppy,r=n.i18n("companionError");n.log(e.toString()),e.isAuthError||"AbortError"===(null==(t=e.cause)?void 0:t.name)||n.info({message:r,details:e.toString()},"error",5e3)}},{key:"registerRequestClient",value:function(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}},{key:"getTagFile",value:function(e){var t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}},n=(0,_i.A)(t);return n&&ke(n)&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?"".concat(e.relDirPath,"/").concat(t.name):null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?"/".concat(e.absDirPath,"/").concat(t.name):"/".concat(t.name)),t}},{key:"setLoading",value:function(e){this.plugin.setPluginState({loading:e})}}]),e}();function Di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ji()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ji(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ji=function(){return!!e})()}function Ni(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ui=0;function Ri(e){return"__private_"+Ui+++"_"+e}function Mi(e){return e.slice(1).map((function(e){return e.name})).join("/")}function Li(e,t){return e?"".concat(e,"/").concat(t):t}function zi(){return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,y.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var qi={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1},Hi=Ri("abortController"),Vi=Ri("withAbort"),Wi=Ri("list"),Gi=Ri("listFilesAndFolders"),Ki=Ri("recursivelyListAllFiles");function $i(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.A)(d.mark((function e(t){var n,r,i,o=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=Ni(this,Hi)[Hi])||n.abort(),r=new AbortController,Ni(this,Hi)[Hi]=r,i=function(){r.abort(),o.clearSelection()},e.prev=4,this.plugin.uppy.on("dashboard:close-panel",i),this.plugin.uppy.on("cancel-all",i),e.next=9,t(r.signal);case 9:return e.prev=9,this.plugin.uppy.off("dashboard:close-panel",i),this.plugin.uppy.off("cancel-all",i),Ni(this,Hi)[Hi]=void 0,e.finish(9);case 14:case"end":return e.stop()}}),e,this,[[4,,9,14]])})))).apply(this,arguments)}function Yi(e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.A)(d.mark((function e(t){var n,r,i,o,a,s,l;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requestPath,r=t.absDirPath,i=t.signal,e.next=3,this.provider.list(n,{signal:i});case 3:return o=e.sent,a=o.username,s=o.nextPagePath,l=o.items,this.username=a||this.username,e.abrupt("return",{items:l.map((function(e){return Bi(Bi({},e),{},{absDirPath:r})})),nextPagePath:s});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ji(e){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.A)(d.mark((function e(t){var n,r,i,o,a,s,l,u;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.breadcrumbs,r=t.signal,i=Mi(n),e.next=4,Ni(this,Wi)[Wi]({requestPath:this.nextPagePath,absDirPath:i,signal:r});case 4:return o=e.sent,a=o.items,s=o.nextPagePath,this.nextPagePath=s,l=[],u=[],a.forEach((function(e){e.isFolder?u.push(e):l.push(e)})),e.abrupt("return",{files:l,folders:u});case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function eo(e){return to.apply(this,arguments)}function to(){return to=(0,c.A)(d.mark((function e(t){var n,r,i,o,a,s,l,u,p,h,f,g=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.requestPath,r=t.absDirPath,i=t.relDirPath,o=t.queue,a=t.onFiles,s=t.signal,l=n;case 2:if(!l){e.next=15;break}return e.next=5,Ni(this,Wi)[Wi]({requestPath:l,absDirPath:r,signal:s});case 5:return u=e.sent,l=u.nextPagePath,p=u.items.filter((function(e){return!e.isFolder})),h=u.items.filter((function(e){return e.isFolder})),a(p),f=h.map(function(){var e=(0,c.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.add((0,c.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(g,Ki)[Ki]({requestPath:t.requestPath,absDirPath:Li(r,t.name),relDirPath:Li(i,t.name),queue:o,onFiles:a,signal:s}));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(f);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e,this)}))),to.apply(this,arguments)}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,oo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function oo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oo=function(){return!!e})()}function ao(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(function(e){function t(e,n){var r;return(0,i.A)(this,t),r=Ii(this,t,[e,Bi(Bi({},qi),n)]),Object.defineProperty((0,p.A)(r),Ki,{value:eo}),Object.defineProperty((0,p.A)(r),Gi,{value:Ji}),Object.defineProperty((0,p.A)(r),Wi,{value:Yi}),Object.defineProperty((0,p.A)(r),Vi,{value:$i}),Object.defineProperty((0,p.A)(r),Hi,{writable:!0,value:void 0}),r.filterQuery=r.filterQuery.bind((0,p.A)(r)),r.clearFilter=r.clearFilter.bind((0,p.A)(r)),r.getFolder=r.getFolder.bind((0,p.A)(r)),r.getNextFolder=r.getNextFolder.bind((0,p.A)(r)),r.logout=r.logout.bind((0,p.A)(r)),r.handleAuth=r.handleAuth.bind((0,p.A)(r)),r.handleScroll=r.handleScroll.bind((0,p.A)(r)),r.donePicking=r.donePicking.bind((0,p.A)(r)),r.render=r.render.bind((0,p.A)(r)),r.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),r.registerRequestClient(),r}var n,r,a,s,u;return(0,l.A)(t,e),(0,o.A)(t,[{key:"tearDown",value:function(){}},{key:"getFolder",value:(u=(0,c.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ni(this,Vi)[Vi](function(){var e=(0,c.A)(d.mark((function e(i){var o,a,s,l,u,c,p,h;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.lastCheckbox=void 0,o=r.plugin.getPluginState(),a=o.breadcrumbs,s=a.findIndex((function(e){return t===e.requestPath})),a=-1!==s?a.slice(0,s+1):[].concat((0,rn.A)(a),[{requestPath:t,name:n}]),r.nextPagePath=t,l=[],u=[];case 7:return e.next=9,Ni(r,Gi)[Gi]({breadcrumbs:a,signal:i});case 9:c=e.sent,p=c.files,h=c.folders,l=l.concat(p),u=u.concat(h),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:l.length+u.length}));case 15:if(r.opts.loadAllFiles&&r.nextPagePath){e.next=7;break}case 16:r.plugin.setPluginState({folders:u,files:l,breadcrumbs:a,filterInput:""});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),"UserFacingApiError"!==(null==e.t0?void 0:e.t0.name)){e.next=11;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 11:this.handleError(e.t0);case 12:return e.prev=12,this.setLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,6,12,15]])}))),function(e,t){return u.apply(this,arguments)})},{key:"getNextFolder",value:function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}},{key:"logout",value:(s=(0,c.A)(d.mark((function e(){var t=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ni(this,Vi)[Vi](function(){var e=(0,c.A)(d.mark((function e(n){var r,i,o;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.logout({signal:n});case 2:(r=e.sent).ok&&(r.revoked||(i=t.plugin.uppy.i18n("companionUnauthorizeHint",{provider:t.plugin.title,url:r.manual_revoke_url}),t.plugin.uppy.info(i,"info",7e3)),o={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""},t.plugin.setPluginState(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.handleError(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return s.apply(this,arguments)})},{key:"filterQuery",value:function(e){this.plugin.setPluginState({filterInput:e})}},{key:"clearFilter",value:function(){this.plugin.setPluginState({filterInput:""})}},{key:"handleAuth",value:(a=(0,c.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ni(this,Vi)[Vi](function(){var e=(0,c.A)(d.mark((function e(r){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.provider.login({authFormData:t,signal:r});case 3:n.plugin.setPluginState({authenticated:!0}),n.preFirstRender();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"UserFacingApiError"!==e.t0.name){e.next=10;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 10:this.plugin.uppy.log("login failed: ".concat(e.t0.message));case 11:return e.prev=11,this.setLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,5,11,14]])}))),function(e){return a.apply(this,arguments)})},{key:"handleScroll",value:(r=(0,c.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldHandleScroll(t)||!this.nextPagePath){e.next=13;break}return this.isHandlingScroll=!0,e.prev=2,e.next=5,Ni(this,Vi)[Vi](function(){var e=(0,c.A)(d.mark((function e(t){var r,i,o,a,s,l,u,c,p;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.plugin.getPluginState(),i=r.files,o=r.folders,a=r.breadcrumbs,e.next=3,Ni(n,Gi)[Gi]({breadcrumbs:a,signal:t});case 3:s=e.sent,l=s.files,u=s.folders,c=i.concat(l),p=o.concat(u),n.plugin.setPluginState({folders:p,files:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.handleError(e.t0);case 10:return e.prev=10,this.isHandlingScroll=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[2,7,10,13]])}))),function(e){return r.apply(this,arguments)})},{key:"donePicking",value:(n=(0,c.A)(d.mark((function e(){var t=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ni(this,Vi)[Vi](function(){var e=(0,c.A)(d.mark((function e(n){var r,i,o,a,s,l,u;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.plugin.getPluginState(),i=r.currentSelection,o=[],a=[],s=Di(i),e.prev=4,u=d.mark((function e(){var r,i,s,u,c,p,h,f;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,i=r.requestPath,s=function(e){return Bi(Bi({},e),{},{relDirPath:e.absDirPath.replace(r.absDirPath,"").replace(/^\//,"")})},!r.isFolder){e.next=16;break}return u=!0,c=0,p=new fr({concurrency:6}),h=function(e){var n,r=Di(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t.getTagFile(i),l=(0,br.N)(o);t.plugin.uppy.checkIfFileAlreadyExists(l)||(a.push(s(i)),c++,t.setLoading(t.plugin.uppy.i18n("addedNumFiles",{numFiles:c}))),u=!1}}catch(p){r.e(p)}finally{r.f()}},e.next=10,Ni(t,Ki)[Ki]({requestPath:i,absDirPath:Li(r.absDirPath,r.name),relDirPath:r.name,queue:p,onFiles:h,signal:n});case 10:return e.next=12,p.onIdle();case 12:f=u?t.plugin.uppy.i18n("emptyFolderAdded"):0===c?t.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):t.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:r.name}),o.push(f),e.next=17;break;case 16:a.push(s(r));case 17:case"end":return e.stop()}}),e)})),s.s();case 7:if((l=s.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:t.plugin.uppy.log("Adding files from a remote provider"),t.plugin.uppy.addFiles(a.map((function(e){return t.getTagFile(e,t.requestClientId)}))),t.plugin.setPluginState({filterInput:""}),o.forEach((function(e){return t.plugin.uppy.info(e)})),t.clearSelection();case 24:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.handleError(e.t0);case 9:return e.prev=9,this.setLoading(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.authenticated,o=r.didFirstRender,a=this.plugin.uppy.i18n;o||this.preFirstRender();var s=Bi(Bi({},this.opts),t),l=this.plugin.getPluginState(),u=l.files,c=l.folders,p=l.filterInput,d=l.loading,h=l.currentSelection,f=this.isChecked,g=this.toggleCheckbox,v=this.recordShiftKeyPress,m=this.filterItems,b=""!==p,w=this.plugin.icon||zi,P={showBreadcrumbs:s.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:w,title:this.plugin.title,logout:this.logout,username:this.username,i18n:a},A={isChecked:f,toggleCheckbox:g,recordShiftKeyPress:v,currentSelection:h,files:b?m(u):u,folders:b?m(c):c,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,showSearchFilter:s.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:p,searchOnInput:!0,searchInputLabel:a("filter"),clearSearchLabel:a("resetFilter"),noResultsLabel:a("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:(0,y.h)(Xr,P),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:w,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)},isLoading:d};return!1===i?(0,y.h)(Si,{onUnmount:this.clearSelection},(0,y.h)(Wr,{pluginName:this.plugin.title,pluginIcon:w,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:d})):(0,y.h)(Si,{onUnmount:this.clearSelection},(0,y.h)(Ai,A))}}]),t}(Ti)).VERSION="3.10.0";var so=0;function lo(e){return"__private_"+so+++"_"+e}var uo={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},co={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},po=lo("updateFilesAndInputMode");function ho(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((function(e){t.push(e)})),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:t,searchTerm:e.searchedFor})}(function(e){function t(e,n){var r;return(0,i.A)(this,t),r=io(this,t,[e,ro(ro({},co),n)]),Object.defineProperty((0,p.A)(r),po,{value:ho}),r.nextPageQuery=null,r.search=r.search.bind((0,p.A)(r)),r.clearSearch=r.clearSearch.bind((0,p.A)(r)),r.resetPluginState=r.resetPluginState.bind((0,p.A)(r)),r.handleScroll=r.handleScroll.bind((0,p.A)(r)),r.donePicking=r.donePicking.bind((0,p.A)(r)),r.render=r.render.bind((0,p.A)(r)),r.plugin.setPluginState(uo),r.registerRequestClient(),r}var n,r;return(0,l.A)(t,e),(0,o.A)(t,[{key:"tearDown",value:function(){}},{key:"resetPluginState",value:function(){this.plugin.setPluginState(uo)}},{key:"search",value:(r=(0,c.A)(d.mark((function e(t){var n,r,i;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.plugin.getPluginState(),r=n.searchTerm,!t||t!==r){e.next=3;break}return e.abrupt("return");case 3:return this.setLoading(!0),e.prev=4,e.next=7,this.provider.search(t);case 7:i=e.sent,ao(this,po)[po](i,[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.handleError(e.t0);case 14:return e.prev=14,this.setLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])}))),function(e){return r.apply(this,arguments)})},{key:"clearSearch",value:function(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}},{key:"handleScroll",value:(n=(0,c.A)(d.mark((function e(t){var n,r,i,o,a;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!n){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,r=this.plugin.getPluginState(),i=r.files,o=r.searchTerm,e.next=7,this.provider.search(o,n);case 7:a=e.sent,ao(this,po)[po](a,i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])}))),function(e){return n.apply(this,arguments)})},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection;this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(t.map((function(t){return e.getTagFile(t)}))),this.resetPluginState()}},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.didFirstRender,o=r.isInputMode,a=r.searchTerm,s=this.plugin.uppy.i18n;i||this.preFirstRender();var l=ro(ro({},this.opts),t),u=this.plugin.getPluginState(),c=u.files,p=u.folders,d=u.filterInput,h=u.loading,f=u.currentSelection,g=this.isChecked,v=this.toggleCheckbox,m=this.filterItems,b=""!==d,w={isChecked:g,toggleCheckbox:v,recordShiftKeyPress:this.recordShiftKeyPress,currentSelection:f,files:b?m(c):c,folders:b?m(p):p,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:l.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:a,searchOnInput:!1,searchInputLabel:s("search"),clearSearchLabel:s("resetSearch"),noResultsLabel:s("noSearchResults"),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,isLoading:h,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:s,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)}};return o?(0,y.h)(Si,{onUnmount:this.resetPluginState},(0,y.h)("div",{className:"uppy-SearchProvider"},(0,y.h)(ci,{search:this.search,inputLabel:s("enterTextToSearch"),buttonLabel:s("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):(0,y.h)(Si,{onUnmount:this.resetPluginState},(0,y.h)(Ai,w))}}]),t}(Ti)).VERSION="3.10.0";var fo=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},go=n(24063);const vo=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function yo(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(n)return n}return e}function mo(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function bo(e,t,n){var r=yo(n,t),i=Qt(r.querySelectorAll(vo)),o=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?mo(e,i):e.shiftKey&&0===o?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||o!==i.length-1||mo(e,i)}var wo=n(59209);function Po(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}n(26910);var Ao=n(3517);function Oo(e){var t={color:"#838999",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,y.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,y.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];if("text"===n)return{color:"#5a5e69",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===n)return{color:"#686de0",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,y.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,y.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,y.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===n)return{color:"#068dbb",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===n)return{color:"#19af67",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===n&&"pdf"===r)return{color:"#e25149",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,y.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}function ko(e){var t=e.file;if(t.preview)return(0,y.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=Oo(t.type),r=n.color,i=n.icon;return(0,y.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,y.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,y.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}var So=function(e,t){var n=("function"==typeof t?t():t).filter((function(t){return t.id===e}));return n[0].name};function _o(e){var t=e.file,n=e.toggleFileCard,r=e.i18n,i=e.metaFields,o=t.missingRequiredMetaFields;if(null==o||!o.length)return null;var a=o.map((function(e){return So(e,i)})).join(", ");return(0,y.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:o.length,fields:a})," ",(0,y.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,t.id)}},r("editFile")))}function Fo(e){var t=e.file,n=e.i18n,r=e.toggleFileCard,i=e.metaFields,o=e.showLinkToFileUploadResult,a=t.preview?"rgba(255, 255, 255, 0.5)":Oo(e.file.type).color;return(0,y.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:a}},o&&t.uploadURL&&(0,y.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name},(0,y.h)("span",{hidden:!0},t.meta.name)),(0,y.h)(ko,{file:t}),(0,y.h)(_o,{file:t,i18n:n,toggleFileCard:r,metaFields:i}))}function Co(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function To(e){return(0,y.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Co(e),title:Co(e),onClick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)}},e.children))}function Do(e){var t=e.children;return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Eo(e){var t=e.progress,n=2*Math.PI*15;return(0,y.h)("g",null,(0,y.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,y.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}function xo(e){return e.file.progress.uploadStarted?e.isUploaded?(0,y.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,y.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,y.h)(Do,null,(0,y.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,y.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,y.h)(To,e,(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,y.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,y.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,y.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,y.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,y.h)(To,e,(0,y.h)(Do,null,(0,y.h)(Eo,{progress:e.file.progress.percentage}),e.file.isPaused?(0,y.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,y.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,y.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,y.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,y.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,y.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,y.h)(Do,null,(0,y.h)(Eo,{progress:e.file.progress.percentage})))):(0,y.h)(To,e,(0,y.h)(Do,null,(0,y.h)(Eo,{progress:e.file.progress.percentage}),(0,y.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var Bo="...";function Io(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return"".concat(e.slice(0,t-1),"…");var n=t-3,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+Bo+e.slice(-i)}var jo=function(e){var t=e.file,n=e.onClick;return t.error?(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function No(e){var t=e.file;return(0,y.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,y.h)("div",{className:"uppy-Dashboard-Item-fileName"},function(e){var t=e.file.meta,n=t.author,r=t.name;return(0,y.h)("div",{className:"uppy-Dashboard-Item-name",title:r},Io(r,e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30))}(e),(0,y.h)(jo,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,y.h)("div",{className:"uppy-Dashboard-Item-status"},function(e){var t,n=e.file.meta.author,r=null==(t=e.file.remote)?void 0:t.providerName;return n?(0,y.h)("div",{className:"uppy-Dashboard-Item-author"},(0,y.h)("a",{href:"".concat(n.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Io(n.name,13)),r?(0,y.h)(y.FK,null," ".concat("·"," "),r," ".concat("·"," ")):null):null}(e),function(e){return e.file.size&&(0,y.h)("div",{className:"uppy-Dashboard-Item-statusSize"},w(e.file.size))}(e),function(e){return e.file.isGhost&&(0,y.h)("span",null," • ",(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))}(e)),(0,y.h)(_o,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Uo(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.canEditFile,o=e.i18n,a=e.onClick;return!n&&r&&r.length>0||!n&&i(t)?(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFileWithFilename",{file:t.meta.name}),title:o("editFileWithFilename",{file:t.meta.name}),onClick:function(){return a()}},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,y.h)("g",{fillRule:"evenodd"},(0,y.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,y.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,y.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Ro(e){var t=e.i18n,n=e.onClick,r=e.file;return(0,y.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:function(){return n()}},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,y.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,y.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var Mo=function(e,t){var n,r;(n=t.file.uploadURL,r=t.i18n("copyLinkToClipboardFallback"),void 0===r&&(r="Copy the URL below"),new Promise((function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=n,document.body.appendChild(t),t.select();var i=function(){document.body.removeChild(t),window.prompt(r,n),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(o){return document.body.removeChild(t),i()}}))).then((function(){t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((function(){return e.target.focus({preventScroll:!0})}))};function Lo(e){var t=e.i18n;return(0,y.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(t){return Mo(t,e)}},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,y.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function zo(e){var t=e.uppy,n=e.file,r=e.uploadInProgressOrComplete,i=e.canEditFile,o=e.metaFields,a=e.showLinkToFileUploadResult,s=e.showRemoveButton,l=e.i18n,u=e.toggleFileCard,c=e.openFileEditor;return(0,y.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,y.h)(Uo,{i18n:l,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:o,onClick:function(){o&&o.length>0?u(!0,n.id):c(n)}}),a&&n.uploadURL?(0,y.h)(Lo,{file:n,uppy:t,i18n:l}):null,s?(0,y.h)(Ro,{i18n:l,file:n,uppy:t,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}function qo(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Ho()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Ho(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ho=function(){return!!e})()}var Vo=function(e){function t(){return(0,i.A)(this,t),qo(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"shouldComponentUpdate",value:function(e){return!Ao(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)}},{key:"render",value:function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,a=e.isGhost,s=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(s=!0);var l=m({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":a});return(0,y.h)("div",{className:l,id:"uppy_".concat(e.id),role:this.props.role},(0,y.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,y.h)(Fo,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,y.h)(xo,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,y.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,y.h)(No,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),(0,y.h)(zo,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),t}(y.uA);const Wo=function(e){var t=e.id,n=e.error,r=e.i18n,i=e.uppy,o=e.files,a=e.acquirers,s=e.resumableUploads,l=e.hideRetryButton,u=e.hidePauseResumeButton,c=e.hideCancelButton,p=e.showLinkToFileUploadResult,d=e.showRemoveButtonAfterComplete,h=e.isWide,f=e.metaFields,g=e.isSingleFile,v=e.toggleFileCard,m=e.handleRequestThumbnail,b=e.handleCancelThumbnail,w=e.recoveredState,P=e.individualCancellation,A=e.itemsPerRow,O=e.openFileEditor,k=e.canEditFile,S=e.toggleAddFilesPanel,_=e.containerWidth,F=e.containerHeight,C=1===A?71:200,T=Br((function(){var e,t,n,r=Object.keys(o);return w&&r.sort((function(e,t){return o[t].isGhost-o[e].isGhost})),e=A,t=[],n=[],r.forEach((function(r){n.length<e?n.push(r):(t.push(n),n=[r])})),n.length&&t.push(n),t}),[o,A,w]),D=function(e){return(0,y.h)("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:e[0]},e.map((function(e){return(0,y.h)(Vo,{key:e,uppy:i,id:t,error:n,i18n:r,acquirers:a,resumableUploads:s,individualCancellation:P,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:c,showLinkToFileUploadResult:p,showRemoveButtonAfterComplete:d,isWide:h,metaFields:f,recoveredState:w,isSingleFile:g,containerWidth:_,containerHeight:F,toggleFileCard:v,handleRequestThumbnail:m,handleCancelThumbnail:b,role:"listitem",openFileEditor:O,canEditFile:k,toggleAddFilesPanel:S,file:o[e]})})))};return g?(0,y.h)("div",{class:"uppy-Dashboard-files"},D(T[0])):(0,y.h)(li,{class:"uppy-Dashboard-files",role:"list",data:T,renderRow:D,rowHeight:C})};function Go(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Ko()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Ko(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ko=function(){return!!e})()}var $o;$o=Symbol.for("uppy test: disable unused locale key warning");var Xo=function(e,t){function n(){var e;return(0,i.A)(this,n),(e=Go(this,n,arguments)).triggerFileInputClick=function(){e.fileInput.click()},e.triggerFolderInputClick=function(){e.folderInput.click()},e.triggerVideoCameraInputClick=function(){e.mobileVideoFileInput.click()},e.triggerPhotoCameraInputClick=function(){e.mobilePhotoFileInput.click()},e.onFileInputChange=function(t){e.props.handleInputChange(t),t.target.value=null},e.renderHiddenInput=function(t,n){return(0,y.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onChange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:n})},e.renderHiddenCameraInput=function(t,n,r){var i={photo:"image/*",video:"video/*"}[t];return(0,y.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(t),onChange:e.onFileInputChange,capture:n,accept:i,ref:r})},e.renderMyDeviceAcquirer=function(){return(0,y.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerFileInputClick},(0,y.h)("div",{className:"uppy-DashboardTab-inner"},(0,y.h)("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,y.h)("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),(0,y.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderPhotoCamera=function(){return(0,y.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerPhotoCameraInputClick},(0,y.h)("div",{className:"uppy-DashboardTab-inner"},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,y.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),(0,y.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("takePictureBtn"))))},e.renderVideoCamera=function(){return(0,y.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerVideoCameraInputClick},(0,y.h)("div",{className:"uppy-DashboardTab-inner"},(0,y.h)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},(0,y.h)("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),(0,y.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("recordVideoBtn"))))},e.renderBrowseButton=function(t,n){var r=e.props.acquirers.length;return(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":0===r},t)},e.renderDropPasteBrowseTagline=function(t){var n=e.renderBrowseButton(e.props.i18n("browseFiles"),e.triggerFileInputClick),r=e.renderBrowseButton(e.props.i18n("browseFolders"),e.triggerFolderInputClick),i=e.props.fileManagerSelectionType,o=i.charAt(0).toUpperCase()+i.slice(1);return(0,y.h)("div",{class:"uppy-Dashboard-AddFiles-title"},e.props.disableLocalFiles?e.props.i18n("importFiles"):t>0?e.props.i18nArray("dropPasteImport".concat(o),{browseFiles:n,browseFolders:r,browse:n}):e.props.i18nArray("dropPaste".concat(o),{browseFiles:n,browseFolders:r,browse:n}))},e.renderAcquirer=function(t){return(0,y.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":"uppy-DashboardContent-panel--".concat(t.id),"aria-selected":e.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:function(){return e.props.showPanel(t.id)}},(0,y.h)("div",{className:"uppy-DashboardTab-inner"},t.icon()),(0,y.h)("div",{className:"uppy-DashboardTab-name"},t.name)))},e.renderAcquirers=function(t){var n=(0,rn.A)(t),r=n.splice(t.length-2,t.length);return(0,y.h)(y.FK,null,n.map((function(t){return e.renderAcquirer(t)})),(0,y.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map((function(t){return e.renderAcquirer(t)}))))},e.renderSourcesList=function(t,n){var r,i=e.props,o=i.showNativePhotoCameraButton,a=i.showNativeVideoCameraButton,s=[],l="myDevice";n||s.push({key:l,elements:e.renderMyDeviceAcquirer()}),o&&s.push({key:"nativePhotoCameraButton",elements:e.renderPhotoCamera()}),a&&s.push({key:"nativePhotoCameraButton",elements:e.renderVideoCamera()}),(r=s).push.apply(r,(0,rn.A)(t.map((function(t){return{key:t.id,elements:e.renderAcquirer(t)}})))),1===s.length&&s[0].key===l&&(s=[]);var u=(0,rn.A)(s),c=u.splice(s.length-2,s.length),p=function(e){return e.map((function(e){var t=e.key,n=e.elements;return(0,y.h)(y.FK,{key:t},n)}))};return(0,y.h)(y.FK,null,e.renderDropPasteBrowseTagline(s.length),(0,y.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},p(u),(0,y.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},p(c))))},e}return(0,l.A)(n,e),(0,o.A)(n,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var e=(0,this.props.i18nArray)("poweredBy",{uppy:(0,y.h)("span",null,(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,y.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,y.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,y.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.showNativePhotoCameraButton,r=t.showNativeVideoCameraButton,i=t.nativeCameraFacingMode;return(0,y.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(function(t){e.fileInput=t})),this.renderHiddenInput(!0,(function(t){e.folderInput=t})),n&&this.renderHiddenCameraInput("photo",i,(function(t){e.mobilePhotoFileInput=t})),r&&this.renderHiddenCameraInput("video",i,(function(t){e.mobileVideoFileInput=t})),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),(0,y.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,y.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),n}(y.uA,$o);const Yo=Xo;const Qo=function(e){return(0,y.h)("div",{className:m("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel},(0,y.h)("div",{className:"uppy-DashboardContent-bar"},(0,y.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,y.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,y.h)(Yo,e))};const Jo=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()};const Zo=function(e){var t=e.activePickerPanel,n=e.className,r=e.hideAllPanels,i=e.i18n,o=e.state,a=e.uppy;return(0,y.h)("div",{className:m("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:Jo,onDragLeave:Jo,onDrop:Jo,onPaste:Jo},(0,y.h)("div",{className:"uppy-DashboardContent-bar"},(0,y.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),(0,y.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),(0,y.h)("div",{className:"uppy-DashboardContent-panelBody"},a.getPlugin(t.id).render(o)))};const ea=function(e){var t=e.files[e.fileCardFor];return(0,y.h)("div",{className:m("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,y.h)("div",{className:"uppy-DashboardContent-bar"},(0,y.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,y.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,y.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()}},e.i18n("cancel")),(0,y.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,y.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))};var ta={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function na(e){var t=e.files,n=e.i18n,r=e.isAllComplete,i=e.isAllErrored,o=e.isAllPaused,a=e.inProgressNotPausedFiles,s=e.newFiles,l=e.processingFiles,u=function(e,t,n,r){if(void 0===r&&(r={}),e)return ta.STATE_ERROR;if(t)return ta.STATE_COMPLETE;if(n)return ta.STATE_PAUSED;for(var i=ta.STATE_WAITING,o=Object.keys(r),a=0;a<o.length;a++){var s=r[o[a]].progress;if(s.uploadStarted&&!s.uploadComplete)return ta.STATE_UPLOADING;s.preprocess&&i!==ta.STATE_UPLOADING&&(i=ta.STATE_PREPROCESSING),s.postprocess&&i!==ta.STATE_UPLOADING&&i!==ta.STATE_PREPROCESSING&&(i=ta.STATE_POSTPROCESSING)}return i}(i,r,o,t);switch(u){case"uploading":return n("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:s.length});case"complete":return n("uploadComplete");case"error":return n("error")}}const ra=function(e){var t=e.i18n,n=e.isAllComplete,r=e.hideCancelButton,i=e.maxNumberOfFiles,o=e.toggleAddFilesPanel,a=e.uppy,s=e.allowNewUpload;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),(0,y.h)("div",{className:"uppy-DashboardContent-bar"},n||r?(0,y.h)("div",null):(0,y.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return a.cancelAll()}},t("cancel")),(0,y.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,y.h)(na,e)),s?(0,y.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return o(!0)}},(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,y.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,y.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,y.h)("div",null))};n(21699);function ia(e){var t=e.computedMetaFields,n=e.requiredMetaFields,r=e.updateMeta,i=e.form,o=e.formState,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map((function(e){var t="uppy-Dashboard-FileCard-input-".concat(e.id),s=n.includes(e.id);return(0,y.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,y.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:t},e.name),void 0!==e.render?e.render({value:o[e.id],onChange:function(t){return r(t,e.id)},fieldCSSClasses:a,required:s,form:i.id},y.h):(0,y.h)("input",{className:a.text,id:t,form:i.id,type:e.type||"text",required:s,value:o[e.id],placeholder:e.placeholder,onInput:function(t){return r(t.target.value,e.id)},"data-uppy-super-focusable":!0}))}))}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e){var t,n=e.files,i=e.fileCardFor,o=e.toggleFileCard,a=e.saveFileCard,s=e.metaFields,l=e.requiredMetaFields,u=e.openFileEditor,c=e.i18n,p=e.i18nArray,d=e.className,h=e.canEditFile,f=n[i],g=null!=(t="function"==typeof s?s(n[i]):s)?t:[],v=h(f),b={};g.forEach((function(e){var t;b[e.id]=null!=(t=f.meta[e.id])?t:""}));var w=Er(b),P=(0,ce.A)(w,2),A=P[0],O=P[1],k=Ir((function(e){e.preventDefault(),a(A,i)}),[a,A,i]),S=function(){o(!1)},_=Er((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=fo(),e})),F=(0,ce.A)(_,1)[0];return xr((function(){return document.body.appendChild(F),F.addEventListener("submit",k),function(){F.removeEventListener("submit",k),document.body.removeChild(F)}}),[F,k]),(0,y.h)("div",{className:m("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:Jo,onDragLeave:Jo,onDrop:Jo,onPaste:Jo},(0,y.h)("div",{className:"uppy-DashboardContent-bar"},(0,y.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},p("editing",{file:(0,y.h)("span",{className:"uppy-DashboardContent-titleFile"},f.meta?f.meta.name:f.name)})),(0,y.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:F.id,title:c("finishEditingFile"),onClick:S},c("cancel"))),(0,y.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,y.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Oo(f.type).color}},(0,y.h)(ko,{file:f}),v&&(0,y.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(e){k(e),u(f)}},c("editImage"))),(0,y.h)("div",{className:"uppy-Dashboard-FileCard-info"},(0,y.h)(ia,{computedMetaFields:g,requiredMetaFields:l,updateMeta:function(e,t){O(aa(aa({},A),{},(0,r.A)({},t,e)))},form:F,formState:A})),(0,y.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:F.id},c("saveChanges")),(0,y.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:S,form:F.id},c("cancel")))))}function la(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ua()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ua(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ua=function(){return!!e})()}var ca="uppy-transition-slideDownUp";const pa=function(e){function t(e){var n;return(0,i.A)(this,t),(n=la(this,t,[e])).state={cachedChildren:null,className:""},n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentWillUpdate",value:function(e){var t=this,n=this.state.cachedChildren,r=(0,y.v2)(e.children)[0];if(n===r)return null;var i={cachedChildren:r};r&&!n&&(i.className="".concat(ca,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(ca,"-enter ").concat(ca,"-enter-active")}),t.enterTimeout=setTimeout((function(){t.setState({className:""})}),250)}))),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className="".concat(ca,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(ca,"-leave ").concat(ca,"-leave-active")}),t.leaveTimeout=setTimeout((function(){t.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}},{key:"render",value:function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?(0,y.Ob)(t,{className:m(n,t.props.className)}):null}}]),t}(y.uA);function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},da.apply(this,arguments)}const ha={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function fa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ga(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ba()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ba(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ba=function(){return!!e})()}function wa(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Pa=0;function Aa(e){return"__private_"+Pa+++"_"+e}var Oa=go.A.default||go.A;function ka(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Sa=Aa("disabledNodes"),_a=Aa("generateLargeThumbnailIfSingleFile"),Fa=Aa("openFileEditorWhenFilesAdded"),Ca=Aa("attachRenderFunctionToTarget"),Ta=Aa("isTargetSupported"),Da=Aa("getAcquirers"),Ea=Aa("getProgressIndicators"),xa=Aa("getEditors"),Ba=Aa("addSpecifiedPluginsFromOptions"),Ia=Aa("autoDiscoverPlugins"),ja=Aa("addSupportedPluginIfNoTarget"),Na=function(e){function t(e,n){var o,a;(0,i.A)(this,t),o=ma(this,t,[e,n]),a=(0,p.A)(o),Object.defineProperty((0,p.A)(o),Sa,{writable:!0,value:null}),o.removeTarget=function(e){var t=o.getPluginState().targets.filter((function(t){return t.id!==e.id}));o.setPluginState({targets:t})},o.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},a=o.getPluginState().targets.slice();return a.push(i),o.setPluginState({targets:a}),o.el}o.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},o.hideAllPanels=function(){var e=o.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||(o.setPluginState(t),o.uppy.emit("dashboard:close-panel",e.activePickerPanel.id))},o.showPanel=function(e){var t=o.getPluginState().targets.filter((function(t){return"acquirer"===t.type&&t.id===e}))[0];o.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"}),o.uppy.emit("dashboard:show-panel",e)},o.canEditFile=function(e){var t=o.getPluginState().targets;return wa((0,p.A)(o),xa)[xa](t).some((function(t){return o.uppy.getPlugin(t.id).canEditFile(e)}))},o.openFileEditor=function(e){var t=o.getPluginState().targets,n=wa((0,p.A)(o),xa)[xa](t);o.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((function(t){o.uppy.getPlugin(t.id).selectFile(e)}))},o.closeFileEditor=function(){var e=o.getPluginState().metaFields;e&&e.length>0?o.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):o.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},o.saveFileEditor=function(){var e=o.getPluginState().targets;wa((0,p.A)(o),xa)[xa](e).forEach((function(e){o.uppy.getPlugin(e.id).save()})),o.closeFileEditor()},o.openModal=function(){var e=ka(),t=e.promise,n=e.resolve;if(o.savedScrollPosition=window.pageYOffset,o.savedActiveElement=document.activeElement,o.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),o.opts.animateOpenClose&&o.getPluginState().isClosing){o.el.addEventListener("animationend",(function e(){o.setPluginState({isHidden:!1}),o.el.removeEventListener("animationend",e,!1),n()}),!1)}else o.setPluginState({isHidden:!1}),n();return o.opts.browserBackButtonClose&&o.updateBrowserHistory(),document.addEventListener("keydown",o.handleKeyDownInModal),o.uppy.emit("dashboard:modal-open"),t},o.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=a.getPluginState(),i=r.isHidden,o=r.isClosing;if(!i&&!o){var s,l=ka(),u=l.promise,c=l.resolve;if(a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.opts.animateOpenClose){a.setPluginState({isClosing:!0});a.el.addEventListener("animationend",(function e(){a.setPluginState({isHidden:!0,isClosing:!1}),a.superFocus.cancel(),a.savedActiveElement.focus(),a.el.removeEventListener("animationend",e,!1),c()}),!1)}else a.setPluginState({isHidden:!0}),a.superFocus.cancel(),a.savedActiveElement.focus(),c();if(document.removeEventListener("keydown",a.handleKeyDownInModal),n)if(a.opts.browserBackButtonClose)null!=(s=history.state)&&s[a.modalName]&&history.back();return a.uppy.emit("dashboard:modal-closed"),u}},o.isModalOpen=function(){return!o.getPluginState().isHidden||!1},o.requestCloseModal=function(){return o.opts.onRequestCloseModal?o.opts.onRequestCloseModal():o.closeModal()},o.setDarkModeCapability=function(e){var t=o.uppy.getState().capabilities;o.uppy.setState({capabilities:ya(ya({},t),{},{darkMode:e})})},o.handleSystemDarkModeChange=function(e){var t=e.matches;o.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),o.setDarkModeCapability(t)},o.toggleFileCard=function(e,t){var n=o.uppy.getFile(t);e?o.uppy.emit("dashboard:file-edit-start",n):o.uppy.emit("dashboard:file-edit-complete",n),o.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},o.toggleAddFilesPanel=function(e){o.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},o.addFiles=function(e){var t=e.map((function(e){return{source:o.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}}));try{o.uppy.addFiles(t)}catch(n){o.uppy.log(n)}},o.startListeningToResize=function(){o.resizeObserver=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;o.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),o.resizeObserver.observe(o.el.querySelector(".uppy-Dashboard-inner")),o.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((function(){var e=o.getPluginState(),t=!o.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(o.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),o.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},o.stopListeningToResize=function(){o.resizeObserver.disconnect(),clearTimeout(o.makeDashboardInsidesVisibleAnywayTimeout)},o.recordIfFocusedOnUppyRecently=function(e){o.el.contains(e.target)?o.ifFocusedOnUppyRecently=!0:(o.ifFocusedOnUppyRecently=!1,o.superFocus.cancel())},o.disableInteractiveElements=function(e){var t,n,r=null!=(t=wa((0,p.A)(o),Sa)[Sa])?t:Qt(o.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter((function(e){return!e.classList.contains("uppy-Dashboard-close")})),i=fa(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;"A"===a.tagName?a.setAttribute("aria-disabled",e):a.disabled=e}}catch(s){i.e(s)}finally{i.f()}wa((0,p.A)(o),Sa)[Sa]=e?r:null,o.dashboardIsDisabled=e},o.updateBrowserHistory=function(){var e;null!=(e=history.state)&&e[o.modalName]||history.pushState(ya(ya({},history.state),{},(0,r.A)({},o.modalName,!0)),""),window.addEventListener("popstate",o.handlePopState,!1)},o.handlePopState=function(e){var t;!o.isModalOpen()||e.state&&e.state[o.modalName]||o.closeModal({manualClose:!1}),!o.isModalOpen()&&null!=(t=e.state)&&t[o.modalName]&&history.back()},o.handleKeyDownInModal=function(e){27===e.keyCode&&o.requestCloseModal(e),9===e.keyCode&&bo(e,o.getPluginState().activeOverlayType,o.el)},o.handleClickOutside=function(){o.opts.closeModalOnClickOutside&&o.requestCloseModal()},o.handlePaste=function(e){o.uppy.iteratePlugins((function(t){"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));var t=Qt(e.clipboardData.files);t.length>0&&(o.uppy.log("[Dashboard] Files pasted"),o.addFiles(t))},o.handleInputChange=function(e){e.preventDefault();var t=Qt(e.target.files);t.length>0&&(o.uppy.log("[Dashboard] Files selected through input"),o.addFiles(t))},o.handleDragOver=function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=function(){var t=!0;return o.uppy.iteratePlugins((function(n){null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t}(),i=e.dataTransfer.types.some((function(e){return"Files"===e}));if(!r&&!i||o.opts.disabled||o.opts.disableLocalFiles&&(i||!r)||!o.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(o.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!0}),null==(t=(n=o.opts).onDragOver)||t.call(n,e)},o.handleDragLeave=function(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.removeDragOverClassTimeout=setTimeout((function(){o.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=o.opts).onDragLeave)||t.call(n,e)},o.handleDrop=function(){var e=(0,c.A)(d.mark((function e(t){var n,r,i,a,s;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!1}),o.uppy.iteratePlugins((function(e){"acquirer"===e.type&&(null==e.handleRootDrop||e.handleRootDrop(t))})),i=!1,a=function(e){o.uppy.log(e,"error"),i||(o.uppy.info(e.message,"error"),i=!0)},o.uppy.log("[Dashboard] Processing dropped files"),e.next=10,yn(t.dataTransfer,{logDropError:a});case 10:(s=e.sent).length>0&&(o.uppy.log("[Dashboard] Files dropped"),o.addFiles(s)),null==(n=(r=o.opts).onDrop)||n.call(r,t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleRequestThumbnail=function(e){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:request",e)},o.handleCancelThumbnail=function(e){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:cancel",e)},o.handleKeyDownInInline=function(e){9===e.keyCode&&function(e,t,n){null===t||bo(e,t,n)}(e,o.getPluginState().activeOverlayType,o.el)},o.handlePasteOnBody=function(e){o.el.contains(document.activeElement)&&o.handlePaste(e)},o.handleComplete=function(e){var t=e.failed;o.opts.closeAfterFinish&&0===t.length&&o.requestCloseModal()},o.handleCancelRestore=function(){o.uppy.emit("restore-canceled")},Object.defineProperty((0,p.A)(o),_a,{writable:!0,value:function(){if(!o.opts.disableThumbnailGenerator){var e=o.uppy.getFiles();if(1===e.length){var t=o.uppy.getPlugin("".concat(o.id,":ThumbnailGenerator"));null==t||t.setOptions({thumbnailWidth:600});var n=ya(ya({},e[0]),{},{preview:void 0});t.requestThumbnail(n).then((function(){null==t||t.setOptions({thumbnailWidth:o.opts.thumbnailWidth})}))}}}}),Object.defineProperty((0,p.A)(o),Fa,{writable:!0,value:function(e){var t=e[0],n=o.getPluginState().metaFields,r=n&&n.length>0,i=o.canEditFile(t);r?o.toggleFileCard(!0,t.id):i&&o.openFileEditor(t)}}),o.initEvents=function(){if(o.opts.trigger&&!o.opts.inline){var e=Yt(o.opts.trigger);e?e.forEach((function(e){return e.addEventListener("click",o.openModal)})):o.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}o.startListeningToResize(),document.addEventListener("paste",o.handlePasteOnBody),o.uppy.on("plugin-added",wa((0,p.A)(o),ja)[ja]),o.uppy.on("plugin-remove",o.removeTarget),o.uppy.on("file-added",o.hideAllPanels),o.uppy.on("dashboard:modal-closed",o.hideAllPanels),o.uppy.on("complete",o.handleComplete),o.uppy.on("files-added",wa((0,p.A)(o),_a)[_a]),o.uppy.on("file-removed",wa((0,p.A)(o),_a)[_a]),document.addEventListener("focus",o.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",o.recordIfFocusedOnUppyRecently,!0),o.opts.inline&&o.el.addEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.on("files-added",wa((0,p.A)(o),Fa)[Fa])},o.removeEvents=function(){var e=Yt(o.opts.trigger);!o.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",o.openModal)})),o.stopListeningToResize(),document.removeEventListener("paste",o.handlePasteOnBody),window.removeEventListener("popstate",o.handlePopState,!1),o.uppy.off("plugin-added",wa((0,p.A)(o),ja)[ja]),o.uppy.off("plugin-remove",o.removeTarget),o.uppy.off("file-added",o.hideAllPanels),o.uppy.off("dashboard:modal-closed",o.hideAllPanels),o.uppy.off("complete",o.handleComplete),o.uppy.off("files-added",wa((0,p.A)(o),_a)[_a]),o.uppy.off("file-removed",wa((0,p.A)(o),_a)[_a]),document.removeEventListener("focus",o.recordIfFocusedOnUppyRecently),document.removeEventListener("click",o.recordIfFocusedOnUppyRecently),o.opts.inline&&o.el.removeEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.off("files-added",wa((0,p.A)(o),Fa)[Fa])},o.superFocusOnEachUpdate=function(){var e=o.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===o.uppy.getState().info.length,r=!o.opts.inline;n&&(r||e||t&&o.ifFocusedOnUppyRecently)?o.superFocus(o.el,o.getPluginState().activeOverlayType):o.superFocus.cancel()},o.afterUpdate=function(){!o.opts.disabled||o.dashboardIsDisabled?(!o.opts.disabled&&o.dashboardIsDisabled&&o.disableInteractiveElements(!1),o.superFocusOnEachUpdate()):o.disableInteractiveElements(!0)},o.saveFileCard=function(e,t){o.uppy.setFileMeta(t,e),o.toggleFileCard(!1,t)},Object.defineProperty((0,p.A)(o),Ca,{writable:!0,value:function(e){var t=o.uppy.getPlugin(e.id);return ya(ya({},e),{},{icon:t.icon||o.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty((0,p.A)(o),Ta,{writable:!0,value:function(e){var t=o.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty((0,p.A)(o),Da,{writable:!0,value:Oa((function(e){return e.filter((function(e){return"acquirer"===e.type&&wa((0,p.A)(o),Ta)[Ta](e)})).map(wa((0,p.A)(o),Ca)[Ca])}))}),Object.defineProperty((0,p.A)(o),Ea,{writable:!0,value:Oa((function(e){return e.filter((function(e){return"progressindicator"===e.type})).map(wa((0,p.A)(o),Ca)[Ca])}))}),Object.defineProperty((0,p.A)(o),xa,{writable:!0,value:Oa((function(e){return e.filter((function(e){return"editor"===e.type})).map(wa((0,p.A)(o),Ca)[Ca])}))}),o.render=function(e){var t,n=o.getPluginState(),r=e.files,i=e.capabilities,a=e.allowNewUpload,s=o.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.uploadStartedFiles,c=s.completeFiles,d=s.erroredFiles,h=s.inProgressFiles,f=s.inProgressNotPausedFiles,g=s.processingFiles,v=s.isUploadStarted,b=s.isAllComplete,w=s.isAllErrored,P=s.isAllPaused,A=wa((0,p.A)(o),Da)[Da](n.targets),O=wa((0,p.A)(o),Ea)[Ea](n.targets),k=wa((0,p.A)(o),xa)[xa](n.targets);return t="auto"===o.opts.theme?i.darkMode?"dark":"light":o.opts.theme,["files","folders","both"].indexOf(o.opts.fileManagerSelectionType)<0&&(o.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(o.opts.fileManagerSelectionType,'".'))),function(e){var t=0===e.totalFileCount,n=1===e.totalFileCount,r=e.containerWidth>576,i=e.containerHeight>330,o=m({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i}),a=1;e.containerWidth>900?a=5:e.containerWidth>700?a=4:e.containerWidth>576&&(a=3);var s=e.showSelectedFiles&&!t,l=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter((function(t){return e.files[t].isGhost})).length:null;return(0,y.h)("div",{className:o,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&Po(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,y.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,y.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,y.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,y.h)("span",{"aria-hidden":"true"},"×")),(0,y.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,y.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),s&&(0,y.h)(ra,e),l&&(0,y.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,y.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,y.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,y.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,y.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,y.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,y.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,y.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles"))),s?(0,y.h)(Wo,{id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,files:e.files,acquirers:e.acquirers,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:a}):(0,y.h)(Yo,da({},e,{isSizeMD:r})),(0,y.h)(pa,null,e.showAddFilesPanel?(0,y.h)(Qo,da({key:"AddFiles"},e,{isSizeMD:r})):null),(0,y.h)(pa,null,e.fileCardFor?(0,y.h)(sa,da({key:"FileCard"},e)):null),(0,y.h)(pa,null,e.activePickerPanel?(0,y.h)(Zo,da({key:"Picker"},e)):null),(0,y.h)(pa,null,e.showFileEditor?(0,y.h)(ea,da({key:"Editor"},e)):null),(0,y.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))))}({state:e,isHidden:n.isHidden,files:r,newFiles:l,uploadStartedFiles:u,completeFiles:c,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:v,isAllComplete:b,isAllErrored:w,isAllPaused:P,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:a,acquirers:A,theme:t,disabled:o.opts.disabled,disableLocalFiles:o.opts.disableLocalFiles,direction:o.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:o.saveFileEditor,closeFileEditor:o.closeFileEditor,disableInteractiveElements:o.disableInteractiveElements,animateOpenClose:o.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:O,editors:k,autoProceed:o.uppy.opts.autoProceed,id:o.id,closeModal:o.requestCloseModal,handleClickOutside:o.handleClickOutside,handleInputChange:o.handleInputChange,handlePaste:o.handlePaste,inline:o.opts.inline,showPanel:o.showPanel,hideAllPanels:o.hideAllPanels,i18n:o.i18n,i18nArray:o.i18nArray,uppy:o.uppy,note:o.opts.note,recoveredState:e.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:o.toggleFileCard,toggleAddFilesPanel:o.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:o.saveFileCard,openFileEditor:o.openFileEditor,canEditFile:o.canEditFile,width:o.opts.width,height:o.opts.height,showLinkToFileUploadResult:o.opts.showLinkToFileUploadResult,fileManagerSelectionType:o.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:o.opts.proudlyDisplayPoweredByUppy,hideCancelButton:o.opts.hideCancelButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:o.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:o.isTargetDOMEl,parentElement:o.el,allowedFileTypes:o.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:o.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:o.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:o.opts.showSelectedFiles,showNativePhotoCameraButton:o.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:o.opts.showNativeVideoCameraButton,nativeCameraFacingMode:o.opts.nativeCameraFacingMode,singleFileFullScreen:o.opts.singleFileFullScreen,handleCancelRestore:o.handleCancelRestore,handleRequestThumbnail:o.handleRequestThumbnail,handleCancelThumbnail:o.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:o.handleDragOver,handleDragLeave:o.handleDragLeave,handleDrop:o.handleDrop})},Object.defineProperty((0,p.A)(o),Ba,{writable:!0,value:function(){(o.opts.plugins||[]).forEach((function(e){var t=o.uppy.getPlugin(e);t?t.mount((0,p.A)(o),t):o.uppy.log("[Uppy] Dashboard could not find plugin '".concat(e,"', make sure to uppy.use() the plugins you are specifying"),"warning")}))}}),Object.defineProperty((0,p.A)(o),Ia,{writable:!0,value:function(){o.uppy.iteratePlugins(wa((0,p.A)(o),ja)[ja])}}),Object.defineProperty((0,p.A)(o),ja,{writable:!0,value:function(e){var t;!e||null!=(t=e.opts)&&t.target||!["acquirer","editor"].includes(e.type)||(o.getPluginState().targets.some((function(t){return e.id===t.id}))||e.mount((0,p.A)(o),e))}}),o.install=function(){o.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:o.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=o.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var r=o.uppy.opts,i=r.allowMultipleUploads,a=r.allowMultipleUploadBatches;(i||a)&&n&&o.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var s=o.opts.target;s&&o.mount(s,(0,p.A)(o)),o.opts.disableStatusBar||o.uppy.use(oe,{id:"".concat(o.id,":StatusBar"),target:(0,p.A)(o),hideUploadButton:o.opts.hideUploadButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,hideCancelButton:o.opts.hideCancelButton,showProgressDetails:o.opts.showProgressDetails,hideAfterFinish:o.opts.hideProgressAfterFinish,locale:o.opts.locale,doneButtonHandler:o.opts.doneButtonHandler}),o.opts.disableInformer||o.uppy.use(Pe,{id:"".concat(o.id,":Informer"),target:(0,p.A)(o)}),o.opts.disableThumbnailGenerator||o.uppy.use(Kt,{id:"".concat(o.id,":ThumbnailGenerator"),thumbnailWidth:o.opts.thumbnailWidth,thumbnailHeight:o.opts.thumbnailHeight,thumbnailType:o.opts.thumbnailType,waitForThumbnailsBeforeUpload:o.opts.waitForThumbnailsBeforeUpload,lazy:!o.opts.waitForThumbnailsBeforeUpload}),o.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var l=!!o.darkModeMediaQuery&&o.darkModeMediaQuery.matches;o.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),o.setDarkModeCapability(l),"auto"===o.opts.theme&&o.darkModeMediaQuery.addListener(o.handleSystemDarkModeChange),wa((0,p.A)(o),Ba)[Ba](),wa((0,p.A)(o),Ia)[Ia](),o.initEvents()},o.uninstall=function(){if(!o.opts.disableInformer){var e=o.uppy.getPlugin("".concat(o.id,":Informer"));e&&o.uppy.removePlugin(e)}if(!o.opts.disableStatusBar){var t=o.uppy.getPlugin("".concat(o.id,":StatusBar"));t&&o.uppy.removePlugin(t)}if(!o.opts.disableThumbnailGenerator){var n=o.uppy.getPlugin("".concat(o.id,":ThumbnailGenerator"));n&&o.uppy.removePlugin(n)}(o.opts.plugins||[]).forEach((function(e){var t=o.uppy.getPlugin(e);t&&t.unmount()})),"auto"===o.opts.theme&&o.darkModeMediaQuery.removeListener(o.handleSystemDarkModeChange),o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.unmount(),o.removeEvents()},o.id=o.opts.id||"Dashboard",o.title="Dashboard",o.type="orchestrator",o.modalName="uppy-Dashboard-".concat(fo()),o.defaultLocale=ha;var s,l={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:zi,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){o.uppy.clearUploadedFiles(),o.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return o.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return o.opts=ya(ya({},l),n),o.i18nInit(),o.superFocus=(s=!1,wo((function(e,t){var n=yo(e,t),r=n.contains(document.activeElement);if(!r||!s){var i=n.querySelector("[data-uppy-super-focusable]");if(!r||i)if(i)i.focus({preventScroll:!0}),s=!0;else{var o=n.querySelector(vo);null==o||o.focus({preventScroll:!0}),s=!1}}}),260)),o.ifFocusedOnUppyRecently=!1,o.makeDashboardInsidesVisibleAnywayTimeout=null,o.removeDragOverClassTimeout=null,o}return(0,l.A)(t,e),(0,o.A)(t)}(h.A);Na.VERSION="3.7.5";var Ua=n(1352),Ra=n(16542),Ma=Ua.instanceOf(Ra.A),La=Ua.arrayOf(Ua.string),za=Ua.shape({strings:Ua.object,pluralize:Ua.func}),qa=Ua.shape({id:Ua.string.isRequired,name:Ua.string.isRequired,placeholder:Ua.string}),Ha=Ua.oneOfType([Ua.arrayOf(qa),Ua.func]),Va=Ua.oneOfType([Ua.string,Ua.number]),Wa={uppy:Ma,inline:Ua.bool,plugins:La,width:Va,height:Va,showProgressDetails:Ua.bool,hideUploadButton:Ua.bool,hideProgressAfterFinish:Ua.bool,note:Ua.string,metaFields:Ha,proudlyDisplayPoweredByUppy:Ua.bool,disableStatusBar:Ua.bool,disableInformer:Ua.bool,disableThumbnailGenerator:Ua.bool,thumbnailWidth:Ua.number,locale:za},Ga=(n(53921),["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"]),Ka=/^(aria-|data-)/;const $a=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,ce.A)(e,1)[0];return Ka.test(t)||Ga.includes(t)})))};n(78347);function Xa(e,t){return Object.keys(e).some((function(n){return!Object.hasOwn(e,n)&&e[n]!==t[n]}))}function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ja(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Za()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Za(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Za=function(){return!!e})()}var es=function(e){function t(){return(0,i.A)(this,t),Ja(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Xa(this.props,e)){var t=Qa(Qa({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=Qa(Qa({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(Na,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",Qa({className:"uppy-Container",ref:function(t){e.container=t}},$a(this.props)))}}]),t}(u.Component);es.propTypes=Wa,es.defaultProps={inline:!0};const ts=es;function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,os()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function os(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(os=function(){return!!e})()}var as=function(e){function t(){return(0,i.A)(this,t),is(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.uppy,r=t.open,i=t.onRequestClose;if(e.uppy!==n)this.uninstallPlugin(e),this.installPlugin();else if(Xa(this.props,e)){var o=rs(rs({},this.props),{},{onRequestCloseModal:i});delete o.uppy,this.plugin.setOptions(o)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.id,n=void 0===t?"react:DashboardModal":t,r=e.uppy,i=e.target,o=e.open,a=e.onRequestClose,s={id:n,target:i,closeModalOnClickOutside:e.closeModalOnClickOutside,disablePageScrollWhenModalOpen:e.disablePageScrollWhenModalOpen,inline:e.inline,plugins:e.plugins,width:e.width,height:e.height,showProgressDetails:e.showProgressDetails,note:e.note,metaFields:e.metaFields,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy,autoOpenFileEditor:e.autoOpenFileEditor,animateOpenClose:e.animateOpenClose,browserBackButtonClose:e.browserBackButtonClose,closeAfterFinish:e.closeAfterFinish,disableStatusBar:e.disableStatusBar,disableInformer:e.disableInformer,disableThumbnailGenerator:e.disableThumbnailGenerator,disableLocalFiles:e.disableLocalFiles,disabled:e.disabled,hideCancelButton:e.hideCancelButton,hidePauseResumeButton:e.hidePauseResumeButton,hideProgressAfterFinish:e.hideProgressAfterFinish,hideRetryButton:e.hideRetryButton,hideUploadButton:e.hideUploadButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,showSelectedFiles:e.showSelectedFiles,waitForThumbnailsBeforeUpload:e.waitForThumbnailsBeforeUpload,fileManagerSelectionType:e.fileManagerSelectionType,theme:e.theme,thumbnailType:e.thumbnailType,thumbnailWidth:e.thumbnailWidth,locale:e.locale,onRequestCloseModal:a};s.target||(s.target=this.container),delete s.uppy,r.use(Na,s),this.plugin=r.getPlugin(s.id),o&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",rs({className:"uppy-Container",ref:function(t){e.container=t}},$a(this.props)))}}]),t}(u.Component);as.propTypes={uppy:Ma.isRequired,target:"undefined"!=typeof window?Ua.instanceOf(window.HTMLElement):Ua.any,open:Ua.bool,onRequestClose:Ua.func,closeModalOnClickOutside:Ua.bool,disablePageScrollWhenModalOpen:Ua.bool,inline:Ua.bool,plugins:La,width:Va,height:Va,showProgressDetails:Ua.bool,note:Ua.string,metaFields:Ha,proudlyDisplayPoweredByUppy:Ua.bool,autoOpenFileEditor:Ua.bool,animateOpenClose:Ua.bool,browserBackButtonClose:Ua.bool,closeAfterFinish:Ua.bool,disableStatusBar:Ua.bool,disableInformer:Ua.bool,disableThumbnailGenerator:Ua.bool,disableLocalFiles:Ua.bool,disabled:Ua.bool,hideCancelButton:Ua.bool,hidePauseResumeButton:Ua.bool,hideProgressAfterFinish:Ua.bool,hideRetryButton:Ua.bool,hideUploadButton:Ua.bool,showLinkToFileUploadResult:Ua.bool,showRemoveButtonAfterComplete:Ua.bool,showSelectedFiles:Ua.bool,waitForThumbnailsBeforeUpload:Ua.bool,fileManagerSelectionType:Ua.string,theme:Ua.string,thumbnailType:Ua.string,thumbnailWidth:Ua.number,locale:za},as.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const ss=as,ls={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?us(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ds()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ds(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ds=function(){return!!e})()}var hs=function(e){function t(e,n){var r;(0,i.A)(this,t),(r=ps(this,t,[e,n])).handleDrop=function(){var e=(0,c.A)(d.mark((function e(t){var n,i,o,a;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),o=function(e){r.uppy.log(e,"error")},e.next=7,yn(t.dataTransfer,{logDropError:o});case 7:(a=e.sent).length>0&&(r.uppy.log("[DragDrop] Files dropped"),r.addFiles(a)),null==(n=(i=r.opts).onDrop)||n.call(i,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop",r.defaultLocale=ls;return r.opts=cs(cs({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null}),n),r.i18nInit(),r.isDragDropSupported=Po(),r.removeDragOverClassTimeout=null,r.onInputChange=r.onInputChange.bind((0,p.A)(r)),r.handleDragOver=r.handleDragOver.bind((0,p.A)(r)),r.handleDragLeave=r.handleDragLeave.bind((0,p.A)(r)),r.handleDrop=r.handleDrop.bind((0,p.A)(r)),r.addFiles=r.addFiles.bind((0,p.A)(r)),r.render=r.render.bind((0,p.A)(r)),r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"onInputChange",value:function(e){var t=Qt(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}},{key:"handleDragOver",value:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.types.some((function(e){return"Files"===e})),i=this.uppy.getState().allowNewUpload;if(!r||!i)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}},{key:"handleDragLeave",value:function(e){var t,n,r=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((function(){r.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}},{key:"renderHiddenFileInput",value:function(){var e=this,t=this.uppy.opts.restrictions;return(0,y.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,y.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,y.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,y.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var e=this,n="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),r={width:this.opts.width,height:this.opts.height};return(0,y.h)("button",{type:"button",className:n,style:r,onClick:function(){return e.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,y.h)("div",{className:"uppy-DragDrop-inner"},t.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,y.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,y.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),t}(h.A);function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vs(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,ys()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ys(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ys=function(){return!!e})()}hs.VERSION="3.0.3";var ms=function(e){function t(){return(0,i.A)(this,t),vs(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Xa(this.props,e)){var t=gs(gs({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:DragDrop",locale:e.locale,inputName:e.inputName,width:e.width,height:e.height,note:e.note,target:this.container};delete n.uppy,t.use(hs,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",gs({className:"uppy-Container",ref:function(t){e.container=t}},$a(this.props)))}}]),t}(u.Component);ms.propTypes={uppy:Ma.isRequired,locale:za,inputName:Ua.string,width:Ua.string,height:Ua.string,note:Ua.string},ms.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const bs=ms;n(94298);function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Os()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Os(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Os=function(){return!!e})()}var ks={target:"body",fixed:!1,hideAfterFinish:!0},Ss=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=As(this,t,[e,Ps(Ps({},ks),n)])).id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.render=r.render.bind((0,p.A)(r)),r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"render",value:function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,y.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,y.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,y.h)("div",{className:"uppy-ProgressBar-percentage"},t))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),t}(h.A);function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Ts()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Ts(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ts=function(){return!!e})()}Ss.VERSION="3.1.0";var Ds=function(e){function t(){return(0,i.A)(this,t),Cs(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Xa(this.props,e)){var t=Fs(Fs({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:ProgressBar",fixed:e.fixed,hideAfterFinish:e.hideAfterFinish,target:this.container};delete n.uppy,t.use(Ss,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",Fs({className:"uppy-Container",ref:function(t){e.container=t}},$a(this.props)))}}]),t}(u.Component);Ds.propTypes={uppy:Ma.isRequired,fixed:Ua.bool,hideAfterFinish:Ua.bool},Ds.defaultProps={fixed:!1,hideAfterFinish:!0};const Es=Ds;function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Is(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,js()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function js(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(js=function(){return!!e})()}var Ns=function(e){function t(){return(0,i.A)(this,t),Is(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Xa(this.props,e)){var t=Bs(Bs({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:StatusBar",hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showProgressDetails:e.showProgressDetails,hideAfterFinish:e.hideAfterFinish,doneButtonHandler:e.doneButtonHandler,target:this.container};delete n.uppy,t.use(oe,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",Bs({className:"uppy-Container",ref:function(t){e.container=t}},$a(this.props)))}}]),t}(u.Component);Ns.propTypes={uppy:Ma.isRequired,hideUploadButton:Ua.bool,hideRetryButton:Ua.bool,hidePauseResumeButton:Ua.bool,hideCancelButton:Ua.bool,showProgressDetails:Ua.bool,hideAfterFinish:Ua.bool,doneButtonHandler:Ua.func},Ns.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const Us=Ns,Rs={strings:{chooseFiles:"Choose files"}};function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zs(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,qs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function qs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qs=function(){return!!e})()}var Hs={pretty:!0,inputName:"files[]"},Vs=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=zs(this,t,[e,Ls(Ls({},Hs),n)])).id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale=Rs,r.i18nInit(),r.render=r.render.bind((0,p.A)(r)),r.handleInputChange=r.handleInputChange.bind((0,p.A)(r)),r.handleClick=r.handleClick.bind((0,p.A)(r)),r}return(0,l.A)(t,e),(0,o.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"handleInputChange",value:function(e){this.uppy.log("[FileInput] Something selected through input...");var t=Qt(e.target.files);this.addFiles(t),e.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var e=this,t=this.uppy.opts.restrictions,n=t.allowedFileTypes?t.allowedFileTypes.join(","):void 0;return(0,y.h)("div",{className:"uppy-FileInput-container"},(0,y.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty?{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==t.maxNumberOfFiles,accept:n,ref:function(t){e.input=t}}),this.opts.pretty&&(0,y.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}]),t}(h.A);function Ws(e,t,n){return t=(0,s.A)(t),(0,a.A)(e,Gs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Gs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gs=function(){return!!e})()}Vs.VERSION="3.1.0";var Ks=function(e){function t(){return(0,i.A)(this,t),Ws(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:FileInput",locale:e.locale,pretty:e.pretty,inputName:e.inputName,target:this.container};delete n.uppy,t.use(Vs,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",{className:"uppy-Container",ref:function(t){e.container=t}})}}]),t}(u.Component);Ks.propTypes={uppy:Ma.isRequired,locale:za,pretty:Ua.bool,inputName:Ua.string},Ks.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};const $s=Ks;function Xs(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=(0,u.useRef)(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof Ra.A)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat((0,$t.A)(t.current)));return(0,u.useEffect)((function(){return function(){var e;null==(e=t.current)||e.close({reason:"unmount"}),t.current=void 0}}),[t]),t.current}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(51531),i=n(18180),o=n(58237),a=n(84285);n(52675),n(89463),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(23500);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function p(e){return"__private_"+c+++"_"+e}function d(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function h(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if("_"!==a){var s=t[a];"string"==typeof s&&(s=n[Symbol.replace](s,"$$$$")),r=d(r,new RegExp("%\\{".concat(a,"\\}"),"g"),s)}}return r}var f=function(e){throw new Error("missing string: ".concat(e))},g=p("onMissingKey"),v=p("apply"),y=function(){function e(t,n){(0,o.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?f:r;Object.defineProperty(this,v,{value:m}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(u(this,v)[v],this):u(this,v)[v](t),u(this,g)[g]=i}return(0,a.A)(e,[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(u(this,g)[g](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return h(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return h(n,t)}}]),e}();function m(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:l(l({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(23500),n(62953),n(51494));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function l(e){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var t=(0,i.A)(e);return function(e){var t="uppy";return"string"==typeof e.name&&(t+="-".concat(s(e.name.toLowerCase()))),void 0!==e.type&&(t+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(t+="-".concat(s(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(t+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(t+="-".concat(e.data.lastModified)),t}(a(a({},e),{},{type:t}))}},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(62010);var r=n(77943),i=n(63265);function o(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}}}]);