jQuery(document).ready(function(s){"use strict";function n(t,e){e='<div class="repeater" style="display:none"><input type="text" value="'+e+'" class="repeater-input" placeholder="https://" /><span class="dashicons dashicons-sort"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';t.find(".sortable").append(e),t.find(".sortable").find(".repeater:last").slideDown("slow",function(){s(this).find("input").focus()})}function i(t){var e=t.find(".repeater-input").map(function(){return s(this).val()}).toArray();t.find(".customize-control-sortable-repeater").val(e),t.find(".customize-control-sortable-repeater").trigger("change")}function c(t){var e={font:t.find(".google-fonts-list").val(),regularweight:t.find(".google-fonts-regularweight-style").val(),italicweight:t.find(".google-fonts-italicweight-style").val(),boldweight:t.find(".google-fonts-boldweight-style").val(),category:t.find(".google-fonts-category").val()};t.find(".customize-control-google-font-selection").val(JSON.stringify(e)).trigger("change")}s(".sortable_repeater_control").each(function(){var t=s(this).find(".customize-control-sortable-repeater").val().split(","),e=t.length;if(0<e&&(s(this).find(".repeater-input").val(t[0]),1<e))for(var i=1;i<e;++i)n(s(this),t[i])}),s(this).find(".sortable").sortable({update:function(t,e){i(s(this).parent())}}),s(".sortable").on("click",".customize-control-sortable-repeater-delete",function(t){t.preventDefault(),1<s(this).parent().parent().find(".repeater").length?s(this).parent().slideUp("fast",function(){var t=s(this).parent().parent();s(this).remove(),i(t)}):(s(this).parent().find(".repeater-input").val(""),i(s(this).parent().parent().parent()))}),s(".customize-control-sortable-repeater-add").click(function(t){t.preventDefault(),n(s(this).parent()),i(s(this).parent())}),s(".sortable").change(function(){i(s(this).parent())}),s(".sortable").on("blur",".repeater-input",function(){var t=s(this),e=t.val();e&&!e.match(/^.+:\/\/.*/)&&t.val("https://"+e).trigger("change")}),s(".slider-custom-control").each(function(){var t=s(this).find(".customize-control-slider-value").val(),e=s(this).find(".slider"),i=parseFloat(e.attr("slider-min-value")),n=parseFloat(e.attr("slider-max-value")),a=parseFloat(e.attr("slider-step-value"));e.slider({value:t,min:i,max:n,step:a,change:function(t,e){s(this).parent().find(".customize-control-slider-value").trigger("change")}})}),s(".slider").on("slide",function(t,e){s(this).parent().find(".customize-control-slider-value").val(e.value)}),s(".slider-reset").on("click",function(){var t=s(this).attr("slider-reset-value");s(this).parent().find(".customize-control-slider-value").val(t),s(this).parent().find(".slider").slider("value",t)}),s(".customize-control-slider-value").blur(function(){var t=s(this).val(),e=s(this).parent().find(".slider"),i=parseInt(e.attr("slider-min-value")),e=parseInt(e.attr("slider-max-value"));t<i&&(t=i,s(this).val(t)),e<t&&(t=e,s(this).val(t)),s(this).parent().find(".slider").slider("value",t)}),s(".single-accordion-toggle").click(function(){var t=s(this);s(this).parent().find(".single-accordion").slideToggle("slow",function(){t.toggleClass("single-accordion-toggle-rotate",s(this).is(":visible"))})}),s(".multi-image-checkbox").on("change",function(){var t,e;t=s(this).parent().parent(),e=t.find(".multi-image-checkbox").map(function(){if(s(this).is(":checked"))return s(this).val()}).toArray(),t.find(".customize-control-multi-image-checkbox").val(e).trigger("change")}),s(".customize-control-dropdown-select2").each(function(){s(".customize-control-select2").select2({allowClear:!0})}),s(".customize-control-select2").on("change",function(){var t=s(this).val();s(this).parent().find(".customize-control-dropdown-select2").val(t).trigger("change")}),s(".google-fonts-list").each(function(t,e){s(e).hasClass("select2-hidden-accessible")||s(e).select2()}),s(".google-fonts-list").on("change",function(){var i=s(this).parent().parent().find(".google-fonts-regularweight-style"),n=s(this).parent().parent().find(".google-fonts-italicweight-style"),a=s(this).parent().parent().find(".google-fonts-boldweight-style"),o=s(this).val(),t=s(this).attr("control-name"),r=0,l=0;i.empty(),n.empty(),a.empty(),n.prop("disabled",!1),a.prop("disabled",!1);var e=_wpCustomizeSettings.controls[t],t=s.map(e.rtthemefontslist,function(t,e){if(t.family===o)return e})[0];s.each(e.rtthemefontslist[t].variants,function(t,e){i.append(s("<option></option>").val(e).html(e)),0<=e.indexOf("italic")?(n.append(s("<option></option>").val(e).html(e)),r++):(a.append(s("<option></option>").val(e).html(e)),l++)}),0==r&&(n.append(s("<option></option>").val("").html("Not Available for this font")),n.prop("disabled","disabled")),0==l&&(a.append(s("<option></option>").val("").html("Not Available for this font")),a.prop("disabled","disabled")),s(this).parent().parent().find(".google-fonts-category").val(e.rtthemefontslist[t].category),c(s(this).parent().parent())}),s(".google_fonts_select_control select").on("change",function(){c(s(this).parent().parent())}),s(".customize-control-tinymce-editor").each(function(){var t=_wpCustomizeSettings.controls[s(this).attr("id")].rtthemetinymcetoolbar1,e=_wpCustomizeSettings.controls[s(this).attr("id")].rtthemetinymcetoolbar2;wp.editor.initialize(s(this).attr("id"),{tinymce:{wpautop:!0,toolbar1:t,toolbar2:e},quicktags:!0})}),s(document).on("tinymce-editor-init",function(t,e){e.on("change",function(t){tinyMCE.triggerSave(),s("#"+e.id).trigger("change")})}),s(function(){var t=s("#images-input");if(t.length)for(var t=t.val(),e=t?t.split(","):[],i=0;i<e.length;i++)""!=e[i]&&s(".images").append("<li class='image-list'><img src='"+e[i]+"'></li>");s(".button-secondary.upload").click(function(){var i=wp.media.frames.file_frame=wp.media({multiple:!0});i.on("select",function(){var t=i.state().get("selection"),e=[];t.map(function(t){t=t.toJSON(),s(".images").append("<li class='image-list'><img src='"+t.url+"'></li>"),e.push(t.url)});t=e.join()+","+s("#images-input").val();s("#images-input").val(t).trigger("change")}),i.open()}),s(".images").click(function(){var t=s(event.target).find("img").attr("src");s(event.target).closest("li").remove();var e=(e=s("#images-input").val()).replace(t+",","");s("#images-input").val(e).trigger("change")})})});